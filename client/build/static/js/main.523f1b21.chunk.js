(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(20),r=a.n(c),i=(a(125),a(9)),l=a(11),d=a(13),o=a(12),j=a(62),h=sessionStorage.getItem("token"),u=h?JSON.parse(j.a.decode(h)):null,b={user:u||{}},O=a(18),p=a(24),x=(a(91),a(92),a(4)),m=a.n(x),g=a(2),v=a(7),_=a(196),f=a(109),y=a(216),S=a(211),w=a(198),N=a(199),D=a(200),k=a(201),C=a(0),P=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"sideBar-ctr",children:Object(C.jsxs)("div",{className:"sidebar",children:[Object(C.jsx)("label",{htmlFor:"nav-toggle",className:"close-on-sm",children:Object(C.jsx)("span",{className:"las la-times"})}),Object(C.jsx)("div",{className:"sidebar-brand",children:Object(C.jsxs)("h2",{children:[Object(C.jsx)("span",{className:"las la-clinic-medical",style:{fontSize:"32px"}}),Object(C.jsx)("span",{children:"Pharmacy"})]})}),Object(C.jsx)("div",{className:"sidebar-menu",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/",children:Object(C.jsxs)("span",{className:"".concat("dashboard"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-home"}),Object(C.jsx)("span",{children:"Dashboard"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/new-sale",children:Object(C.jsxs)("span",{className:"".concat("sale"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-user-plus"}),Object(C.jsx)("span",{children:"New Sale"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/new-purchase",children:Object(C.jsxs)("span",{className:"".concat("purchase"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-prescription-bottle-alt"}),Object(C.jsx)("span",{children:"New Purchase"})]})})})]})})]})})})}}]),a}(s.Component),U=a(22),E=a.p+"static/media/place-holder.8c84566a.jpg",A=a(213),T=a(197),I=a(56),F=a.n(I),M="https://freedomhealth.herokuapp.com/api",q=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,null,[{key:"login",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat(M,"/user/admin/login"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return","Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"data",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("".concat(M).concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return","Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=a.p+"static/media/doctor.26885907.png",R=a.p+"static/media/fhp.574aa51e.jpg";a(152);var z=function(){var e=Object(s.useState)({username:"",password:"",_cp:!0}),t=Object(U.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(U.a)(c,2),i=r[0],l=r[1],d=Object(s.useState)(""),o=Object(U.a)(d,2),h=o[0],u=o[1],b=function(){var e=Object(v.a)(m.a.mark((function e(t){var s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,q.login({username:a.username,password:a.password});case 3:if(s=e.sent,console.log(s),"Error"===s){e.next=18;break}if(!1!==s.status){e.next=12;break}return n(Object(g.a)(Object(g.a)({},a),{},{_cp:!1})),l(!1),e.abrupt("return");case 12:c=j.a.encode(JSON.stringify(s.user)),sessionStorage.setItem("token",c),window.location.replace("/"),l(!1);case 16:e.next=20;break;case 18:u("Server Error..."),setTimeout((function(){l(!1),u("")}),5e3);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{style:{width:"100%",height:"100%",backgroundColor:"white"},className:"m-ctr",children:[Object(C.jsxs)("div",{className:"ctr",children:[Object(C.jsx)("img",{alt:"Hospital",src:R,height:"120px",width:"150px",style:{objectFit:"cover"}}),Object(C.jsx)("div",{className:"header",style:{margin:"15px 0px"},children:"Freedom Pharmacy"}),Object(C.jsxs)("div",{className:"loginCtr",children:[Object(C.jsx)(A.a,{name:"username",variant:"standard",label:"Username",helperText:a._cp?"":"Incorrect Username Or Password",error:!a._cp,onChange:function(e){n(Object(g.a)(Object(g.a)({},a),{},{username:e.target.value}))},fullWidth:!0,required:!0,style:{width:"250px",display:"block",margin:"15px 0px"}}),Object(C.jsx)(A.a,{type:"password",name:"password",variant:"standard",helperText:a._cp?"":"Incorrect Username Or Password",label:"Password",required:!0,error:!a._cp,onChange:function(e){n(Object(g.a)(Object(g.a)({},a),{},{password:e.target.value}))},fullWidth:!0,style:{display:"block",margin:"50px 0px"}})]}),Object(C.jsx)("div",{className:"submitCtr",children:Object(C.jsxs)(_.a,{fullWidth:!0,variant:"contained",color:"primary",style:{marginRight:10},onClick:b,children:["Login",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("i",{className:"las la-sign-in-alt"})})]})}),Object(C.jsxs)("div",{className:"loader",style:i?{display:"flex"}:{display:"none"},children:[Object(C.jsx)(T.a,{size:25}),Object(C.jsx)("div",{children:h})]})]}),Object(C.jsx)("img",{src:W,className:"img",alt:"Hospital"})]})};function J(){sessionStorage.removeItem("token"),window.location.replace("/")}var L=function(){var e=Object(s.useState)(null),t=Object(U.a)(e,2),a=t[0],c=t[1],r=n.a.useState(!1),i=Object(U.a)(r,2),l=i[0],d=i[1],o=function(){c(null)},j=function(){d(!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("header",{children:[Object(C.jsxs)("h2",{children:[Object(C.jsx)("label",{htmlFor:"nav-toggle",children:Object(C.jsx)("span",{className:"las la-bars"})}),Object(C.jsx)("span",{className:"health_unit_name",children:"Freedom Health"})]}),Object(C.jsxs)("div",{className:"",style:{display:"flex",alignItems:"center"},children:[Object(C.jsx)("div",{className:"",style:{fontSize:"42px",marginRight:20},children:Object(C.jsx)("i",{className:"las la-bell"})}),Object(C.jsxs)("div",{className:"user-wrapper","aria-controls":"reception-actions","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},style:{cursor:"pointer"},children:[Object(C.jsx)("img",{src:E,alt:"",width:"40px",height:"40px"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h4",{children:b.user.username}),Object(C.jsx)("small",{children:b.user.user_role})]})]})]})]}),Object(C.jsxs)(f.a,{id:"reception-actions",anchorEl:a,keepMounted:!0,disableScrollLock:!0,open:Boolean(a),onClose:o,children:[Object(C.jsxs)(y.a,{onClick:o,children:[Object(C.jsx)("span",{style:{fontSize:24,marginRight:10},children:Object(C.jsx)("i",{className:"las la-user-alt"})}),"Profile"]}),Object(C.jsxs)(y.a,{onClick:function(){d(!0)},children:[Object(C.jsx)("span",{style:{fontSize:24,marginRight:10},children:Object(C.jsx)("i",{className:"las la-sign-out-alt"})}),"Log out"]})]}),Object(C.jsxs)(S.a,{open:l,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(w.a,{id:"alert-dialog-title",children:"Log Out"}),Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{id:"alert-dialog-description",children:"Want to Log Out. Click 'Stay' to close, Log Out to Continue"})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:j,color:"primary",children:"Stay"}),Object(C.jsx)(_.a,{variant:"contained",color:"primary",autoFocus:!0,onClick:function(){J()},children:"Log Out"})]})]})]})},B=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,null,[{key:"format",value:function(e){return e.toLocaleString()}}]),e}(),G=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).expiry_products=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/batch/expiry");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{expiry_products:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e)}))),s.handleSaleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_sale:!1}))},s.handleOpenActions=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:e.currentTarget}))},s.handleOpenActionsDrugs=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:e.currentTarget}))},s.handleCloseActions=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:null}))},s.handleCloseActionsDrugs=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:null}))},s.state={AnchorEl:null,AnchorElDrugs:null,products:[],purchase_number:"...",sales_number:"...",expiry_products:[],my_sales:[],open_sale:!1},s.products(),s.purchases(),s.sales(),s.expiry_products(),s.my_sales(),s}return Object(l.a)(a,[{key:"my_sales",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/my_sales/".concat(b.user.username));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{my_sales:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"products",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/products");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{products:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"purchases",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/purchases");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{purchase_number:t.length}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sales",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/sales");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{sales_number:t.length}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsxs)("main",{children:[Object(C.jsxs)("div",{className:"cards",children:[Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.my_sales.length)}),Object(C.jsx)("span",{children:"My Sales"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.sales_number)}),Object(C.jsx)("span",{children:"Sales"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users"})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.purchase_number)}),Object(C.jsx)("span",{children:"Purchases"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.products.length)}),Object(C.jsx)("span",{children:"Total Products"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]})]}),Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Expiring in 90 days"}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"drug-actions","aria-haspopup":"true",onClick:this.handleOpenActionsDrugs,children:["Menu",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]}),Object(C.jsx)(f.a,{id:"drug-actions",anchorEl:this.state.AnchorElDrugs,keepMounted:!0,open:Boolean(this.state.AnchorElDrugs),onClose:this.handleCloseActionsDrugs,disableScrollLock:!0,children:Object(C.jsx)(O.b,{to:"/new-product",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActionsDrugs,children:"New Product"})})})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Batch No."}),Object(C.jsx)("td",{children:"Quantity In Batch"}),Object(C.jsx)("td",{children:"Expires On"})]})}),Object(C.jsx)("tbody",{children:0===this.state.expiry_products.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Medicine Expires In 90 days"})}):this.state.expiry_products.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_generic_name}),Object(C.jsx)("td",{children:e.batch_no}),Object(C.jsx)("td",{children:e.batch_qty}),Object(C.jsx)("td",{children:e.batch_expiry_date})]},t)}))})]})})]})}),Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"My Sales"}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"reception-actions","aria-haspopup":"true",onClick:this.handleOpenActions,children:["See All",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:"Discount"}),Object(C.jsx)("td",{children:"Paid"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.my_sales.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No sale made"})}):this.state.my_sales.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.sales_amount}),Object(C.jsx)("td",{children:t.sales_discount}),Object(C.jsx)("td",{children:t.amount_paid}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(a){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_sale:!0,dialog_data:t}))},children:"Details"})})]},a)}))})]})})]})})]})]})]}),this.state.dialog_data?Object(C.jsxs)(S.a,{open:this.state.open_sale,onClose:this.handleSaleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Sale Details"}),Object(C.jsx)(N.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Amount"}),Object(C.jsx)("td",{children:"Sale Type"})]})}),Object(C.jsx)("tbody",{children:JSON.parse(this.state.dialog_data.products_sold).map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.product_name}),Object(C.jsx)("td",{children:e.qty}),Object(C.jsx)("td",{children:e.selling_unit}),Object(C.jsx)("td",{children:e.product_price}),Object(C.jsx)("td",{children:e.sale_type})]},t)})}))})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Total Amount: UGX ".concat(this.state.dialog_data.sales_amount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Discount: UGX  ".concat(this.state.dialog_data.sales_discount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Amount Paid: UGX ".concat(this.state.dialog_data.amount_paid)})})]})})]})}),Object(C.jsx)(k.a,{children:Object(C.jsx)(_.a,{onClick:this.handleSaleClose,color:"primary",children:"Cancel"})})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component),Q=a(23),X=a(212),H=a(202),V=a(192),Y=a(215),K=a(207),Z=a(203),$=a(204),ee=a(210),te=a(209),ae=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"post",value:function(){var e=Object(v.a)(m.a.mark((function e(t,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("https://freedomhealth.herokuapp.com/api").concat(t),a);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","Error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),se=a(206),ne=a(35),ce=a.n(ne),re=(a(61),a(41),a(81),function e(){Object(i.a)(this,e)});re.new_sale=function(e){console.log(e);var t=e.products_sold,a=parseInt(e.total_amount),s=parseInt(e.discount)||0,n=parseInt(e.pay_amount),c=(e.customer,e.sale_type),r=function(e,t){var a,s=e;if(s.length===t&&(a=s),s.length>t&&(a=s.substring(0,t-2)+".."),s.length<t){a=s;for(var n=t-s.length,c=0;c<n;c++)a+=" "}return a+" "},i=["------------------------------------------------","                                                ","FREEDOM HEALTH AND SUPPLIES LTD                 ","Plot 7, Chegere Road Apac                       ","P.O.Box 120 Apac                                ","Tel: 0393 193 423                               ","                                                ","SALES RECEIPT                                   ","                                                ","Date: "+function(){var e=new Date(Date.now()).getMonth()+1<10?"0"+(new Date(Date.now()).getMonth()+1):new Date(Date.now()).getMonth()+1;return(new Date(Date.now()).getDate()<10?"0"+new Date(Date.now()).getDate():new Date(Date.now()).getDate())+"/"+e+"/"+new Date(Date.now()).getFullYear()}()+"                                ","                                                ","------------------------------------------------","Name                  Qty   Unit     Amount(Shs)"];return t.forEach((function(e,t){i.push("".concat(r(e.product_name,21)).concat(r(e.qty,5)).concat(r(e.selling_unit,8)).concat(r((parseInt(e.product_price)*parseInt(e.qty)).toString(),10)))})),[].concat(i,["------------------------------------------------","Sale          ".concat(r(c,10),"                       "),"Total         UGX: ".concat(r(a.toString(),8),"                    "),"Discount      UGX: ".concat(r(s.toString(),8),"                    "),"Paid          UGX: ".concat(r(n.toString(),8),"                    "),"                                                ","Thank You                                       ","Served By: ".concat(r(b.user.user_first_name,19),"                 "),"Be Healthy, Be Happy                            ","                                                ","------------------------------------------------"])};var ie="\n";function le(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var de=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).print_receipt=function(e){ce.a.websocket.connect().then((function(){return ce.a.printers.find("Generic")})).then((function(t){console.log(t);var a=ce.a.configs.create(t);return ce.a.print(a,re.new_sale(e))})).then((function(){return ce.a.websocket.disconnect()})).then((function(){})).catch((function(e){console.error(e)}))},s.customers=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/sale/customers");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{customers:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e)}))),s.handleSale=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.finish_btn_disabled){e.next=3;break}return e.abrupt("return");case 3:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info",finish_btn_disabled:!0})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),e.next=9,s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:n}));case 9:if(0===s.state.formData.length){e.next=13;break}s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:Object(g.a)(Object(g.a)({},s.state._content),{},{products_sold:s.state.formData,date:Date.now(),user:b.user.username})})),e.next=15;break;case 13:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"No Products To Sell",messageState:"warning"})),e.abrupt("return");case 15:return c=new ae,e.next=18,c.post("/user/sale/new_sale",s.state._content);case 18:!0===(r=e.sent).status?(s.state.print&&s.print_receipt(s.state._content),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"success",finish_btn_disabled:!1})),setTimeout((function(){window.location.reload()}),700)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"error"}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.over_qty_error){e.next=4;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"error",message:"Quantity Exceeds Available"})),e.abrupt("return");case 4:if(s.state.active_drug){e.next=7;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"error",message:"No Selling Unit"})),e.abrupt("return");case 7:s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.batch=s.state.batch?s.state.batch:[],s.state.formData.find((function(e){return e.product_name===n.product_name}))?s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Exists",messageState:"warning"})):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Added",messageState:"success",formData:[].concat(Object(Q.a)(s.state.formData),[n]),active_drug:null}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleDrugNameKeyUp=function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=9;break}return e.next=3,q.data("/user/sale/products/".concat(t.target.value));case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=[];case 6:e.t0=e.t1,e.next=10;break;case 9:e.t0=[];case 10:(n=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{products:"Error"===n?[]:n}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.handleChangeDrugName=function(e,t){if(t){if(!s.IsJsonString(t.product_units))return void s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This Product has no Selling Units, Edit It to make a sale",messageState:"warning"}));s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_drug:t}),(function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_selling_unit:JSON.parse(s.state.active_drug.product_units)[0].selling_unit,active_selling_price:JSON.parse(s.state.active_drug.product_units)[0][s.state.active_sale_type]}),(function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_product_re_order:(s.state.active_selling_unit===JSON.parse(s.state.active_drug.product_units)[0].selling_unit?parseInt(s.state.active_drug.product_re_order):parseInt(s.state.active_drug.product_re_order)/parseInt(JSON.parse(s.state.active_drug.product_units).find((function(t){return t.selling_unit===e.target.value})).qty))||0,active_product_qty:s.state.active_selling_unit===JSON.parse(s.state.active_drug.product_units)[0].selling_unit?parseInt(s.state.active_drug.product_qty):parseInt(s.state.active_drug.product_qty)/parseInt(JSON.parse(s.state.active_drug.product_units).find((function(t){return t.selling_unit===e.target.value})).qty)}))}))}))}},s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:""}))},s.state={open:!1,message:"Please Wait...",messageState:"",print:!0,_content:{},active_product_qty:0,active_product_re_order:0,over_qty_error:!1,active_sale_type:"retail",active_selling_unit:"",active_selling_price:"",products:[],customers:[],formData:[],total:0,discount:0,finish_btn_disabled:!1},s.customers(),s}return Object(l.a)(a,[{key:"getDate",value:function(){return new Date(Date.now()).getDate()+" / "+(new Date(Date.now()).getMonth()+1)+" / "+new Date(Date.now()).getFullYear()}},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"getTotals",value:function(){var e=0;return 0!==this.state.formData.length&&this.state.formData.forEach((function(t){e+=parseInt(t.product_price)*parseInt(t.qty)})),e}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(le,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"sale"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsx)("main",{children:Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Sale List"}),Object(C.jsxs)(_.a,{"aria-describedby":this.id,variant:"contained",color:"primary",onClick:function(){window.location.reload()},style:{fontSize:"17.5px",marginRight:"15px"},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-redo"})}),"Cancel"]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Unit Price(Shs)"}),Object(C.jsx)("td",{children:"Total(Shs)"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.formData.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Added"})}):this.state.formData.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:t.product_name}),Object(C.jsx)("td",{children:t.qty}),Object(C.jsx)("td",{children:t.product_price}),Object(C.jsx)("td",{children:parseInt(t.product_price)*parseInt(t.qty)}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){var t=e.state.formData;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{formData:t}))},children:"Remove"})})]},a)}))}),Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:this.getTotals()})]})})]})})]}),Object(C.jsxs)("div",{className:"projects",children:[Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsxs)("div",{className:"card-header ",children:[Object(C.jsx)("div",{children:Object(C.jsxs)(V.a,{variant:"outlined",style:{width:"85%",marginInline:"20px"},children:[Object(C.jsx)(Y.a,{id:"sale_type",children:"Sale"}),Object(C.jsxs)(K.a,{inputProps:{name:"sale_type"},label:"Sale",id:"select_sale_type",value:this.state.active_sale_type,onChange:function(t,a){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_sale_type:t.target.value,active_drug:null}))},children:[Object(C.jsx)(y.a,{value:"retail",children:"Retail"}),Object(C.jsx)(y.a,{value:"wholesale",children:"Wholesale"})]})]})}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-plus-circle"})}),"Add"]})})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Product Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(se.a,{id:"combo-box-demo",options:this.state.products,getOptionLabel:function(e){return"".concat(e.product_generic_name," ").concat(e.product_description_name)},onChange:this.handleChangeDrugName,onKeyUp:this.handleDrugNameKeyUp,style:{width:"85%",margin:"20px"},renderInput:function(e){return Object(C.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"Search Product",name:"product_name",variant:"outlined"}))}}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,type:"number",name:"qty_available",variant:"outlined",label:"Available",value:this.state.active_product_qty,style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,helperText:this.state.active_drug&&this.state.active_product_re_order>=this.state.active_product_qty?"Purchase Needed For This Drug":"",error:this.state.active_drug&&this.state.active_product_re_order>=this.state.active_product_qty||"",type:"number",name:"qty_re_order",variant:"outlined",label:"Re-order Quantity",value:this.state.active_product_re_order,style:{width:"85%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inpts_on_right",children:[Object(C.jsxs)(V.a,{variant:"outlined",label:"selling_unit",disabled:!this.state.active_drug,style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:"Selling Unit"}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:"Selling Unit",id:"select_selling_unit",value:this.state.active_selling_unit,onChange:function(){var t=Object(v.a)(m.a.mark((function t(a,s){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_price:JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value}))[e.state.active_sale_type]}));case 2:e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_unit:a.target.value}),(function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_product_re_order:(e.state.active_selling_unit===JSON.parse(e.state.active_drug.product_units)[0].selling_unit?parseInt(e.state.active_drug.product_re_order):parseInt(e.state.active_drug.product_re_order)/parseInt(JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value})).qty))||0,active_product_qty:e.state.active_selling_unit===JSON.parse(e.state.active_drug.product_units)[0].selling_unit?parseInt(e.state.active_drug.product_qty):parseInt(e.state.active_drug.product_qty)/parseInt(JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value})).qty)}))}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:this.state.active_drug?JSON.parse(this.state.active_drug.product_units).map((function(e,t){return Object(C.jsx)(y.a,{value:e.selling_unit,children:e.selling_unit},t)})):Object(C.jsx)(y.a,{value:"",children:"No Selling Units"})})]}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,error:this.state.over_qty_error,type:"number",name:"qty",variant:"outlined",label:"Quantity",helperText:this.state.over_qty_error?"Quantity Exceeds Available":"",defaultValue:0,onChange:function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(parseInt(a.target.value)>e.state.active_product_qty)){t.next=5;break}return t.next=3,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{over_qty_error:!0}));case 3:t.next=7;break;case 5:return t.next=7,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{over_qty_error:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),style:{width:"85%",margin:"20px"}}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_id",defaultValue:this.state.active_drug?this.state.active_drug.product_id:""}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_price",defaultValue:this.state.active_selling_price})]})]})]})})})]}),Object(C.jsxs)("form",{className:"card",style:{marginTop:"20px"},onSubmit:this.handleSale,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"Payment"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(Z.a,{style:{display:"inline"},children:Object(C.jsx)($.a,{control:Object(C.jsx)(ee.a,{defaultChecked:!0,name:"print_receipt",onChange:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{print:!e.state.print}),(function(){console.log(e.state.print)}))}}),label:"Print Receipt"})}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary",type:"submit",style:{marginRight:10},disabled:this.state.finish_btn_disabled,children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-print"})}),"Finish Sale"]})]})]}),Object(C.jsx)(oe,{t:this.getTotals(),sale_type:this.state.active_sale_type,customers:this.state.customers}),Object(C.jsx)("input",{type:"text",hidden:!0,value:this.state.active_sale_type,name:"sale_type",onChange:function(){}})]})]})]})})]})]})}}]),a}(s.Component);function oe(e){var t=e.t,a=e.sale_type,n=e.customers,c=Object(s.useState)(0),r=Object(U.a)(c,2),i=r[0],l=r[1];return Object(C.jsxs)("div",{className:"_finish_purchase_ctr",children:[Object(C.jsx)(A.a,{name:"total_amount",variant:"outlined",label:"Total",value:t,style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"discount",variant:"outlined",label:"Discount",type:"number",onChange:function(e){l(parseInt(e.target.value)||0)},style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"pay_amount",variant:"outlined",label:"Amount to Be Paid",value:t-i,style:{width:"75%",margin:"20px"}}),Object(C.jsxs)(V.a,{variant:"outlined",label:"customer",style:"retail"===a?{display:"none"}:{width:"75%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"customer",children:"Customer"}),Object(C.jsx)(K.a,{inputProps:{name:"customer"},label:"customer",id:"select_customer",defaultValue:"",children:0===n.length?"No Customer Added":n.map((function(e,t){return Object(C.jsx)(y.a,{value:"".concat(e.customer_surname," ").concat(e.customer_lastname),children:"".concat(e.customer_surname," ").concat(e.customer_lastname)},t)}))})]})]})}var je=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={products:[]},s.products(),s}return Object(l.a)(a,[{key:"products",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/products");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{products:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Products Available"}),Object(C.jsx)(A.a,{name:"drug_name",variant:"outlined",label:"Search Product",style:{width:"15%"}})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product Name"}),Object(C.jsx)("td",{children:"Expiry Date"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.products.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Exists"})}):this.state.products.map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.product_name}),Object(C.jsx)("td",{children:e.expiry_date}),Object(C.jsx)("td",{children:e.quantity}),Object(C.jsx)("td",{children:Object(C.jsx)(O.b,{to:"/product?product-id=".concat(e.product_id),children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",children:"Details"})})})]},t)})}))})]})})]})})})})]})]})}}]),a}(s.Component);function he(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var ue=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handlePurchase=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),e.next=7,s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:n}));case 7:return 0!==s.state.formData.length&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:Object(g.a)(Object(g.a)({},s.state._content),{},{products_purchased:s.state.formData,date:Date.now(),user:b.user.username})})),c=new ae,e.next=11,c.post("/user/sale/new_purchase",s.state._content);case 11:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"error"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),c=s.state.formData.find((function(e){return e.product_name===n.product_name})),n.batch_no&&n.expiry_date&&n.qty&&n.cost_price){e.next=9;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{empty_error:!0,open:!0,messageState:"error",message:"Some Fields are missing"})),e.abrupt("return");case 9:c?s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Exists",messageState:"warning"})):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Added",messageState:"success",formData:[].concat(Object(Q.a)(s.state.formData),[n])}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleDrugNameKeyUp=function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=9;break}return e.next=3,q.data("/user/sale/products/".concat(t.target.value));case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=[];case 6:e.t0=e.t1,e.next=10;break;case 9:e.t0=[];case 10:(n=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{products:"Error"===n?[]:n}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.handleChangeDrugName=function(e,t){if(t){if(!s.IsJsonString(t.product_units))return void s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This Product has no Selling Units, Edit It to make a sale",messageState:"warning"}));s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_drug:t}),(function(){var e=JSON.parse(s.state.active_drug.product_units);s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_selling_unit:e[e.length-1].selling_unit,active_retail_price:e[e.length-1].retail,active_wholesale_price:e[e.length-1].wholesale}))}))}},s.closePopUp=function(e,t){"clickaway"!==t&&(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:""})),s.state.empty_error&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{empty_error:!1})))},s.state={open:!1,message:"Please Wait...",messageState:"",_content:{},active_selling_unit:"",active_wholesale_price:"",empty_error:!1,products:[],suppliers:[],formData:[],total:0,discount:0},s.suppliers(),s}return Object(l.a)(a,[{key:"suppliers",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/suppliers");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{suppliers:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"getTotals",value:function(){var e=0;return 0!==this.state.formData.length&&this.state.formData.forEach((function(t){e+=parseInt(t.cost_price)*parseInt(t.qty)})),e}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(he,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"purchase"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsx)("main",{children:Object(C.jsxs)("div",{className:"recent-grid-left",children:[Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Purchase List"}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){window.location.reload()},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-redo"})}),"Cancel"]})]}),Object(C.jsx)("div",{className:"card-body tbl_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Batch No."}),Object(C.jsx)("td",{children:"Expiry Date"}),Object(C.jsx)("td",{children:"Cost Price(Shs)"})]})}),Object(C.jsx)("tbody",{children:0===this.state.formData.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Added"})}):this.state.formData.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:t.product_name}),Object(C.jsx)("td",{children:t.qty}),Object(C.jsx)("td",{children:t.batch_no}),Object(C.jsx)("td",{children:t.expiry_date}),Object(C.jsx)("td",{children:parseInt(t.cost_price)*parseInt(t.qty)}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){var t=e.state.formData;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{formData:t}))},children:"Remove"})})]},a)}))}),Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:this.getTotals()})]})})]})})]}),Object(C.jsxs)("div",{className:"projects",children:[Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"New Purchase"}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-plus-circle"})}),"Add"]})})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Product Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(se.a,{id:"combo-box-demo",options:this.state.products,getOptionLabel:function(e){return"".concat(e.product_generic_name," ").concat(e.product_description_name)},onChange:this.handleChangeDrugName,onKeyUp:this.handleDrugNameKeyUp,style:{width:"85%",margin:"20px"},renderInput:function(e){return Object(C.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"Search Product",name:"product_name",variant:"outlined"}))}}),Object(C.jsx)(A.a,{error:this.state.empty_error,name:"batch_no",variant:"outlined",label:"Batch Number",style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{error:this.state.empty_error,type:"date",name:"expiry_date",variant:"outlined",helperText:"Expiry Date",style:{width:"85%",margin:"20px"}}),Object(C.jsxs)(V.a,{variant:"outlined",label:"supplier",style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"supplier",children:"Supplier"}),Object(C.jsx)(K.a,{inputProps:{name:"supplier"},label:"supplier",id:"select_supplier",defaultValue:"",children:0===this.state.suppliers.length?"No Supplier Added":this.state.suppliers.map((function(e,t){return Object(C.jsx)(y.a,{value:e.supplier_id,children:e.supplier_surname},t)}))})]})]}),Object(C.jsxs)("div",{className:"inpts_on_right",children:[Object(C.jsxs)(V.a,{variant:"outlined",label:"selling_unit",disabled:!this.state.active_drug,style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:"Purchasing Unit"}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:"Purchasing Unit",id:"select_selling_unit",value:this.state.active_selling_unit,onChange:function(t,a){var s=JSON.parse(e.state.active_drug.product_units);e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_retail_price:s.find((function(e){return e.selling_unit===t.target.value})).retail,active_wholesale_price:s.find((function(e){return e.selling_unit===t.target.value})).wholesale})),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_unit:t.target.value}))},children:this.state.active_drug?JSON.parse(this.state.active_drug.product_units).map((function(e,t){return Object(C.jsx)(y.a,{value:e.selling_unit,children:e.selling_unit},t)})):Object(C.jsx)(y.a,{value:"",children:"No Selling Units"})})]}),Object(C.jsx)(A.a,{error:this.state.empty_error,type:"number",name:"qty",variant:"outlined",label:"Quantity",defaultValue:0,style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{error:this.state.empty_error,name:"cost_price",variant:"outlined",type:"number",label:"Unit Cost Price(Ushs)",style:{width:"85%",margin:"20px"}}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_id",defaultValue:this.state.active_drug?this.state.active_drug.product_id:""})]})]})]})})})]}),Object(C.jsxs)("form",{className:"card",style:{marginTop:"20px"},onSubmit:this.handlePurchase,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"Payment"}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit",variant:"contained",color:"primary",children:["Finish Purchase",Object(C.jsx)("span",{style:{fontSize:"15px",marginLeft:"10px"},children:Object(C.jsx)("i",{className:"las la-angle-double-right"})})]})})]}),Object(C.jsx)(be,{t:this.getTotals()})]})]})]})})]})]})}}]),a}(s.Component);function be(e){var t=e.t,a=Object(s.useState)(0),n=Object(U.a)(a,2),c=n[0];n[1];return Object(C.jsxs)("div",{className:"_finish_purchase_ctr",children:[Object(C.jsx)(A.a,{name:"total_amount",variant:"outlined",label:"Total",value:t,style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"pay_amount",variant:"outlined",label:"Amount to Be Paid",value:t-c,style:{width:"75%",margin:"20px"}})]})}function Oe(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var pe=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={open:!1,message:"Please Wait...",messageState:"",product:{}},s.product(),s}return Object(l.a)(a,[{key:"product",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(new URLSearchParams(window.location.search).get("product-id")),e.next=3,q.data("/user/all/product/".concat(t));case 3:a=e.sent,s=Object(U.a)(a,1),(n=s[0])&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{product:"Error"===n?{}:n}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Oe,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("h3",{children:"Product Details"})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Print"})})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsxs)("h3",{children:["Product No: ",this.state.product.product_track_number]}),Object(C.jsx)("div",{className:"inputs_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Product Name :"}),this.state.product.product_name]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Quantity in Stock :"}),this.state.product.quantity]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Unit Price :"}),"UGX","",this.state.product.unit_price]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Cost Price :"}),"UGX"," ","",this.state.product.cost_price]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Sales:"}),"0"]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Income:"}),"UGX 0"]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Purchases:"}),"0"]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Expenses:"}),"UGX 0"]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Date Added :"}),new Date(this.state.product.date_added).getDate()+"-"+(new Date(this.state.product.date_added).getMonth()+1)+"-"+new Date(this.state.product.date_added).getFullYear()]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Time :"}),new Date(this.state.product.date_added).getHours()+":"+new Date(this.state.product.date_added).getMinutes()+(new Date(this.state.product.date_added).getHours()<12?"AM":"PM")]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Expiry Date :"}),this.state.product.expiry_date]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Description :"}),this.state.product.product_description]})]})]})}),Object(C.jsx)("h5",{children:"Supplier"}),Object(C.jsx)("div",{className:"inputs_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Surname :"}),this.state.product.supplier_surname]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Lastname :"}),this.state.product.supplier_lastname]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Date Added :"}),new Date(this.state.product.date_registered).getDate()+"-"+(new Date(this.state.product.date_registered).getMonth()+1)+"-"+new Date(this.state.product.date_registered).getFullYear()]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Time :"}),new Date(this.state.product.date_registered).getHours()+":"+new Date(this.state.product.date_registered).getMinutes()+(new Date(this.state.product.date_registered).getHours()<12?"AM":"PM")]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Contact :"}),this.state.product.supplier_contact]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Location :"}),this.state.product.supplier_location]})]}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Address :"}),this.state.product.supplier_address]})})]})})]})})})]})})})})]})]})}}]),a}(s.Component);function xe(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var me=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_dialog:!1}))},s.handleUnit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.unit_name){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This field is missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 8:return c=new ae,e.next=11,c.post("/user/admin/new_unit",n);case 11:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),0!==s.state.units.length){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"No Selling Units Registered",messageState:"error"})),e.abrupt("return");case 8:if(n.generic_name&&n.re_order_qty){e.next=11;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"These Fields are missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 11:if(s.state.units[s.state.units.length-1].selling_unit&&s.state.units[s.state.units.length-1].qty&&s.state.units[s.state.units.length-1].retail&&s.state.units[s.state.units.length-1].wholesale){e.next=14;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are Missing",messageState:"error"})),e.abrupt("return");case 14:return n.units=s.state.units,n.date=Date.now(),c=new ae,e.next=19,c.post("/user/sale/new_product",n);case 19:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:"Please Wait...",messageState:"info",empty_name_error:!1}))},s.state={open:!1,open_dialog:!1,message:"Please Wait...",messageState:"",suppliers:[],units:[],new_unit_error:!1,empty_name_error:!1,selling_units:[]},s.units(),s}return Object(l.a)(a,[{key:"units",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/units");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{selling_units:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(xe,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(P,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(L,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",style:{marginInline:10},onClick:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_dialog:!0}))},children:"Add Unit"})}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(_.a,{"aria-describedby":this.id,variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){window.location.reload()},children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginLeft:10},children:"Save"})]})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Medicine Entry"}),Object(C.jsxs)("div",{className:"inputs_ctr_np",children:[Object(C.jsxs)("div",{className:"inputs_left_np",children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"generic_name",variant:"outlined",label:"Generic Name",style:{width:"75%",margin:"20px"}}),Object(C.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between",width:"75%",margin:"20px"},children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,type:"number",name:"re_order_qty",variant:"outlined",label:"Re-order Qty",style:{flex:1,marginRight:"5px"}}),Object(C.jsx)(A.a,{value:this.state.units.length>0&&this.state.units[this.state.units.length-1].selling_unit?this.state.units[this.state.units.length-1].selling_unit:"",name:"re_order_unit",variant:"outlined",label:"Unit",style:{flex:1,marginLeft:"5px"}})]}),Object(C.jsx)(A.a,{name:"description",variant:"outlined",label:"Medicine Description",style:{width:"75%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inputs_right_np",children:[Object(C.jsx)("h4",{style:{margin:"20px"},children:"Selling Units"}),Object(C.jsx)("div",{className:"tbl_ctr_np",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{children:"Retail"}),Object(C.jsx)("td",{children:"Wholesale"})]})}),Object(C.jsx)("tbody",{children:0===this.state.units.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Selected Units"})}):this.state.units.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsxs)(V.a,{error:e.state.new_unit_error,variant:"standard",label:"supplier",style:{width:"95%"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:0===a?"Smallest Unit":"Unit ".concat(a+1)}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:0===a?"Smallest Unit":"Unit ".concat(a+1),id:"select_selling_unit",defaultValue:"",onChange:function(t){var s=e.state.units;s[a].selling_unit=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},children:0===e.state.selling_units.length?Object(C.jsx)(y.a,{value:"no_unit",children:"No Unit Added"}):e.state.selling_units.map((function(e,t){return Object(C.jsx)(y.a,{value:e.unit_name,children:e.unit_name},t)}))})]})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{multiline:!0,variant:"standard",defaultValue:0===a?"1":"",label:0===a?"Quantity":"Quantity In Unit ".concat(a),onChange:function(t){var s=e.state.units;s[a].qty=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Retail",error:e.state.new_unit_error,onChange:function(t){var s=e.state.units;s[a].retail=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Wholesale",error:e.state.new_unit_error,onChange:function(t){var s=e.state.units;s[a].wholesale=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{color:"primary",variant:"outlined",onClick:function(){var t=e.state.units;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:t}))},children:"Remove"})})]},a)}))})]})}),Object(C.jsx)("div",{className:"",style:{display:"flex",justifyContent:"flex-end",width:"95%",margin:"10px auto"},children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){if(0===e.state.units.length)e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{qty:1}])}));else if(1===e.state.units.length){var t=e.state.units;t[0].selling_unit&&t[0].qty&&t[0].retail&&t[0].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are missing",messageState:"error"}))}else{var a=e.state.units;a[a.length-1].selling_unit&&a[a.length-1].qty&&a[a.length-1].retail&&a[a.length-1].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are Missing",messageState:"error"}))}},children:"New Unit"})})]})]})]})})})]})})})})]}),Object(C.jsxs)(S.a,{open:this.state.open_dialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Add Selling Unit"}),Object(C.jsxs)("form",{onSubmit:this.handleUnit,autoComplete:"off",children:[Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{children:Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"unit_name",variant:"standard",label:"Unit Name",style:{width:"85%",margin:"20px"}})})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit",color:"primary",children:"Save"})]})]})]})]})}}]),a}(s.Component),ge=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)("h1",{style:{marginBlock:20},children:"404"}),Object(C.jsx)("span",{style:{marginBlock:10},children:"This Page Was Not Found On The Server"}),Object(C.jsx)(O.b,{to:"/",children:Object(C.jsxs)(_.a,{variant:"contained",color:"primary",style:{marginBlock:20},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("span",{className:"las la-home"})}),"Home"]})})]})}}]),a}(s.Component),ve=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(O.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(p.c,{children:[Object(C.jsx)(p.a,{path:"/",exact:!0,component:G}),Object(C.jsx)(p.a,{path:"/new-sale",exact:!0,component:de}),Object(C.jsx)(p.a,{path:"/all-products",exact:!0,component:je}),Object(C.jsx)(p.a,{path:"/new-purchase",exact:!0,component:ue}),Object(C.jsx)(p.a,{path:"/new-product",exact:!0,component:me}),Object(C.jsx)(p.a,{path:"/product",exact:!0,component:pe}),Object(C.jsx)(p.a,{path:"*",component:ge})]})})})}}]),a}(s.Component),_e=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h1",{children:"Xamuel"})})}}]),a}(s.Component),fe=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"sideBar-ctr",children:Object(C.jsxs)("div",{className:"sidebar",children:[Object(C.jsx)("label",{htmlFor:"nav-toggle",className:"close-on-sm",children:Object(C.jsx)("span",{className:"las la-times"})}),Object(C.jsx)("div",{className:"sidebar-brand",children:Object(C.jsxs)("h2",{children:[Object(C.jsx)("span",{className:"las la-clinic-medical",style:{fontSize:"32px"}}),Object(C.jsx)("span",{children:"Pharmacy"})]})}),Object(C.jsx)("div",{className:"sidebar-menu",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/",children:Object(C.jsxs)("span",{className:"".concat("dashboard"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-home"}),Object(C.jsx)("span",{children:"Dashboard"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/new-sale",children:Object(C.jsxs)("span",{className:"".concat("sale"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-user-plus"}),Object(C.jsx)("span",{children:"New Sale"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/new-purchase",children:Object(C.jsxs)("span",{className:"".concat("purchase"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-prescription-bottle-alt"}),Object(C.jsx)("span",{children:"New Purchase"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/finance",children:Object(C.jsxs)("span",{className:"".concat("finance"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-comments-dollar"}),Object(C.jsx)("span",{children:"Finance"})]})})}),Object(C.jsx)("li",{children:Object(C.jsx)(O.b,{to:"/reports",children:Object(C.jsxs)("span",{className:"".concat("reports"===this.props.active?"active":""," _a_replaced"),children:[Object(C.jsx)("span",{className:"las la-comment"}),Object(C.jsx)("span",{children:"Reports"})]})})})]})})]})})})}}]),a}(s.Component);var ye=function(){var e=Object(s.useState)(null),t=Object(U.a)(e,2),a=t[0],c=t[1],r=n.a.useState(!1),i=Object(U.a)(r,2),l=i[0],d=i[1],o=function(){c(null)},j=function(){d(!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("header",{children:[Object(C.jsxs)("h2",{children:[Object(C.jsx)("label",{htmlFor:"nav-toggle",children:Object(C.jsx)("span",{className:"las la-bars"})}),Object(C.jsx)("span",{className:"health_unit_name",children:"Freedom Health"})]}),Object(C.jsxs)("div",{className:"",style:{display:"flex",alignItems:"center"},children:[Object(C.jsx)("div",{className:"",style:{fontSize:"42px",marginRight:20},children:Object(C.jsx)("i",{className:"las la-bell"})}),Object(C.jsxs)("div",{className:"user-wrapper","aria-controls":"reception-actions","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},style:{cursor:"pointer"},children:[Object(C.jsx)("img",{src:E,alt:"",width:"40px",height:"40px"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h4",{children:b.user.username}),Object(C.jsx)("small",{children:b.user.user_role})]})]})]})]}),Object(C.jsxs)(f.a,{id:"reception-actions",anchorEl:a,keepMounted:!0,disableScrollLock:!0,open:Boolean(a),onClose:o,children:[Object(C.jsxs)(y.a,{onClick:o,children:[Object(C.jsx)("span",{style:{fontSize:24,marginRight:10},children:Object(C.jsx)("i",{className:"las la-user-alt"})}),"Profile"]}),Object(C.jsxs)(y.a,{onClick:function(){d(!0)},children:[Object(C.jsx)("span",{style:{fontSize:24,marginRight:10},children:Object(C.jsx)("i",{className:"las la-sign-out-alt"})}),"Log out"]})]}),Object(C.jsxs)(S.a,{open:l,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(w.a,{id:"alert-dialog-title",children:"Log Out"}),Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{id:"alert-dialog-description",children:"Want to Log Out. Click 'Stay' to close, Log Out to Continue"})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:j,color:"primary",children:"Stay"}),Object(C.jsx)(_.a,{variant:"contained",color:"primary",autoFocus:!0,onClick:function(){J()},children:"Log Out"})]})]})]})},Se=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).expiry_products=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/batch/expiry");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{expiry_products:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e)}))),s.less_qty=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/less_qty");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{less_qty_pdts:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e)}))),s.handleOpenActions=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:e.currentTarget}))},s.handleOpenActionsDrugs=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:e.currentTarget}))},s.handleCloseActions=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:null}))},s.handleCloseActionsDrugs=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:null}))},s.state={AnchorEl:null,AnchorElDrugs:null,products:[],sales_number_daily:"...",sales_number_monthly:"...",expiry_products:[],less_qty_pdts:[]},s.products(),s.sales(),s.expiry_products(),s.less_qty(),s}return Object(l.a)(a,[{key:"products",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/products");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{products:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sales",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/sales");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{sales_number_monthly:0,sales_number_daily:0})):t.forEach((function(e){new Date(parseInt(e.sales_date)).getDate()===new Date(Date.now()).getDate()&&a++,new Date(parseInt(e.sales_date)).getMonth()===new Date(Date.now()).getMonth()&&s++})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{sales_number_monthly:s,sales_number_daily:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsxs)("main",{children:[Object(C.jsxs)("div",{className:"cards",children:[Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.expiry_products.length)}),Object(C.jsxs)("span",{children:["Medicines ",Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Expire in less than 90 days"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.sales_number_monthly)}),Object(C.jsx)("span",{children:"Sales"}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Made This Month"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users"})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.sales_number_daily)}),Object(C.jsx)("span",{children:"Sales"}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Made Today"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h3",{children:B.format(this.state.products.length)}),Object(C.jsx)("span",{children:"Medicines"}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Registered"})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]})]}),Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Batches - Expiring In 90 Days"}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"drug-actions","aria-haspopup":"true",onClick:this.handleOpenActionsDrugs,children:["Menu",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]}),Object(C.jsxs)(f.a,{id:"drug-actions",anchorEl:this.state.AnchorElDrugs,keepMounted:!0,open:Boolean(this.state.AnchorElDrugs),onClose:this.handleCloseActionsDrugs,disableScrollLock:!0,children:[Object(C.jsx)(O.b,{to:"/new-product",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActionsDrugs,children:"New Medicine"})}),Object(C.jsx)(O.b,{to:"/all-products",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActionsDrugs,children:"Medicines"})}),Object(C.jsx)(O.b,{to:"/all-batches",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActionsDrugs,children:"Medicine Batches"})})]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Batch No."}),Object(C.jsx)("td",{children:"Quantity In Batch"}),Object(C.jsx)("td",{children:"Expires On"})]})}),Object(C.jsx)("tbody",{children:0===this.state.expiry_products.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Medicine Expires In 90 days"})}):this.state.expiry_products.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_generic_name}),Object(C.jsx)("td",{children:e.batch_no}),Object(C.jsx)("td",{children:e.batch_qty}),Object(C.jsx)("td",{children:e.batch_expiry_date})]},t)}))})]})})]})}),Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Quantity Less Re-order Level"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)(_.a,{variant:"contained",color:"primary",onClick:function(){window.location.reload()},style:{marginRight:"15px"},className:"small-none",children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-redo"})}),"Refresh"]}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"reception-actions","aria-haspopup":"true",onClick:this.handleOpenActions,children:["Other Menu",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]}),Object(C.jsxs)(f.a,{id:"reception-actions",anchorEl:this.state.AnchorEl,keepMounted:!0,open:Boolean(this.state.AnchorEl),onClose:this.handleCloseActions,disableScrollLock:!0,children:[Object(C.jsx)(O.b,{to:"/new-user",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActions,children:"New User"})}),Object(C.jsx)(O.b,{to:"/new-supplier",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActions,children:"New Supplier"})}),Object(C.jsx)(O.b,{to:"/new-customer",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActions,children:"New Customer"})})]})]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Re-order Level"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{children:"Unit"})]})}),Object(C.jsx)("tbody",{children:0===this.state.less_qty_pdts.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Medicines to display"})}):this.state.less_qty_pdts.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:"\n                                  ".concat(t.product_generic_name,"\n                                  ").concat(t.product_description_name,"\n                                  ")}),Object(C.jsx)("td",{children:t.product_re_order}),Object(C.jsx)("td",{children:t.product_qty}),Object(C.jsx)("td",{children:e.IsJsonString(t.product_units)?JSON.parse(t.product_units)[0].selling_unit:"No Product Units"})]},a)}))})]})})]})})]})]})]})]})}}]),a}(s.Component);function we(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Ne=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_dialog:!1}))},s.handleUnit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.unit_name){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This field is missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 8:return c=new ae,e.next=11,c.post("/user/admin/new_unit",n);case 11:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),0!==s.state.units.length){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"No Selling Units Registered",messageState:"error"})),e.abrupt("return");case 8:if(n.generic_name){e.next=11;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"The Generic Name is missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 11:if(s.state.units[s.state.units.length-1].selling_unit&&s.state.units[s.state.units.length-1].qty&&s.state.units[s.state.units.length-1].retail&&s.state.units[s.state.units.length-1].wholesale){e.next=14;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are Missing",messageState:"error"})),e.abrupt("return");case 14:return n.units=s.state.units,n.date=Date.now(),c=new ae,e.next=19,c.post("/user/sale/new_product",n);case 19:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:"Please Wait...",messageState:"info",empty_name_error:!1}))},s.state={open:!1,open_dialog:!1,message:"Please Wait...",messageState:"",suppliers:[],units:[],new_unit_error:!1,empty_name_error:!1,selling_units:[]},s.units(),s}return Object(l.a)(a,[{key:"units",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/units");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{selling_units:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(we,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",style:{marginInline:10},onClick:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_dialog:!0}))},children:"Add Unit"})}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(_.a,{"aria-describedby":this.id,variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){window.location.reload()},children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginLeft:10},children:"Save"})]})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Medicine Entry"}),Object(C.jsxs)("div",{className:"inputs_ctr_np",children:[Object(C.jsxs)("div",{className:"inputs_left_np",children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"generic_name",variant:"outlined",label:"Generic Name",style:{width:"75%",margin:"20px"}}),Object(C.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between",width:"75%",margin:"20px"},children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,type:"number",name:"re_order_qty",variant:"outlined",label:"Re-order Qty",style:{flex:1,marginRight:"5px"}}),Object(C.jsx)(A.a,{value:this.state.units.length>0&&this.state.units[this.state.units.length-1].selling_unit?this.state.units[this.state.units.length-1].selling_unit:"",name:"re_order_unit",variant:"outlined",label:"Unit",style:{flex:1,marginLeft:"5px"}})]}),Object(C.jsx)(A.a,{name:"description",variant:"outlined",label:"Medicine Description",style:{width:"75%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inputs_right_np",children:[Object(C.jsx)("h4",{style:{margin:"20px"},children:"Selling Units"}),Object(C.jsx)("div",{className:"tbl_ctr_np",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{children:"Retail"}),Object(C.jsx)("td",{children:"Wholesale"})]})}),Object(C.jsx)("tbody",{children:0===this.state.units.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Selected Units"})}):this.state.units.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsxs)(V.a,{error:e.state.new_unit_error,variant:"standard",label:"selling_unit",style:{width:"95%"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:0===a?"Smallest Unit":"Unit ".concat(a+1)}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:0===a?"Smallest Unit":"Unit ".concat(a+1),id:"select_selling_unit",defaultValue:"",onChange:function(t){var s=e.state.units;s[a].selling_unit=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},children:0===e.state.selling_units.length?Object(C.jsx)(y.a,{value:"no_unit",children:"No Unit Added"}):e.state.selling_units.map((function(e,t){return Object(C.jsx)(y.a,{value:e.unit_name,children:e.unit_name},t)}))})]})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{multiline:!0,variant:"standard",defaultValue:0===a?"1":"",label:0===a?"Quantity":"Quantity In Unit ".concat(a),onChange:function(t){var s=e.state.units;s[a].qty=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Retail",error:e.state.new_unit_error,onChange:function(t){var s=e.state.units;s[a].retail=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Wholesale",error:e.state.new_unit_error,onChange:function(t){var s=e.state.units;s[a].wholesale=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{color:"primary",variant:"outlined",onClick:function(){var t=e.state.units;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:t}))},children:"Remove"})})]},a)}))})]})}),Object(C.jsx)("div",{className:"",style:{display:"flex",justifyContent:"flex-end",width:"95%",margin:"10px auto"},children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){if(0===e.state.units.length)e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{qty:1}])}));else if(1===e.state.units.length){var t=e.state.units;t[0].selling_unit&&t[0].qty&&t[0].retail&&t[0].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are missing",messageState:"error"}))}else{var a=e.state.units;a[a.length-1].selling_unit&&a[a.length-1].qty&&a[a.length-1].retail&&a[a.length-1].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are Missing",messageState:"error"}))}},children:"New Unit"})})]})]})]})})})]})})})})]}),Object(C.jsxs)(S.a,{open:this.state.open_dialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Add Selling Unit"}),Object(C.jsxs)("form",{onSubmit:this.handleUnit,autoComplete:"off",children:[Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{children:Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"unit_name",variant:"standard",label:"Unit Name",style:{width:"85%",margin:"20px"}})})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit",color:"primary",children:"Save"})]})]})]})]})}}]),a}(s.Component);function De(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var ke=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.date=Date.now(),c=new ae,e.next=9,c.post("/user/sale/new_supplier",n);case 9:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.state={open:!1,message:"Please Wait...",messageState:""},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(De,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("h3",{children:"New Supplier"})}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Save"})]})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Supplier Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(A.a,{name:"supplier_surname",variant:"outlined",label:"First name",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"supplier_lastname",variant:"outlined",label:"Last name",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"supplier_contact",variant:"outlined",label:"Phonenumber",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"supplier_location",variant:"outlined",label:"Location",style:{width:"75%",margin:"20px"}})]}),Object(C.jsx)("div",{className:"inpts_center",children:Object(C.jsx)(A.a,{name:"supplier_address",variant:"outlined",label:"Address",style:{width:"75%",margin:"20px"}})})]})]})})})]})})})})]})]})}}]),a}(s.Component);function Ce(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Pe=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),c=new ae,e.next=8,c.post("/user/sale/new_customer",n);case 8:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.state={open:!1,message:"Please Wait...",messageState:""},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Ce,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("h3",{children:"New Customer"})}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginRight:10},children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginLeft:10},children:"Save"})]})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Customer Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(A.a,{name:"surname",variant:"outlined",label:"Surname",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"first_name",variant:"outlined",label:"First Name",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"phone_contact",variant:"outlined",label:"Phone Contact",style:{width:"75%",margin:"20px"}})]}),Object(C.jsx)("div",{className:"inpts_center",children:Object(C.jsxs)(V.a,{variant:"outlined",label:"type",style:{width:"75%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"type",children:"Type Of Customer"}),Object(C.jsxs)(K.a,{inputProps:{name:"type"},label:"type",id:"select_type",defaultValue:"",children:[Object(C.jsx)(y.a,{value:"Retailer",children:"Retailer"}),Object(C.jsx)(y.a,{value:"Wholesaler",children:"Wholesaler"})]})]})})]})]})})})]})})})})]})]})}}]),a}(s.Component);function Ue(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Ee=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),c=new ae,e.next=8,c.post("/user/admin/new_user",n);case 8:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.state={open:!1,message:"Please Wait...",messageState:"",departments:[]},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Ue,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"users"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("h3",{children:"New User"})}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(_.a,{"aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Save"})]})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"User Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(A.a,{name:"surname",variant:"outlined",label:"Surname",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"first_name",variant:"outlined",label:"First Name",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"username",variant:"outlined",label:"Username",style:{width:"75%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inpts_center",children:[Object(C.jsx)(A.a,{name:"phone_contact",variant:"outlined",label:"Phone Contact",style:{width:"75%",margin:"20px"}}),Object(C.jsxs)(V.a,{variant:"outlined",label:"Role",style:{width:"75%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"role",children:"Role"}),Object(C.jsxs)(K.a,{inputProps:{name:"role"},id:"select_role",label:"Role",defaultValue:"dispenser",children:[Object(C.jsx)(y.a,{value:"dispenser",children:"Dispenser"}),Object(C.jsx)(y.a,{value:"admin",children:"Admin"})]})]}),Object(C.jsxs)(V.a,{variant:"outlined",label:"Gender",style:{width:"75%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"gender",children:"Gender"}),Object(C.jsxs)(K.a,{inputProps:{name:"gender"},id:"select_gender",label:"Gender",defaultValue:"M",children:[Object(C.jsx)(y.a,{value:"M",children:"Male"}),Object(C.jsx)(y.a,{value:"F",children:"Female"})]})]})]}),Object(C.jsxs)("div",{className:"inpts_on_right",children:[Object(C.jsx)(A.a,{type:"password",name:"password",variant:"outlined",label:"Password",style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{type:"password",name:"confirm_password",variant:"outlined",label:"Confirm Password",style:{width:"75%",margin:"20px"}})]})]})]})})})]})})})})]})]})}}]),a}(s.Component);function Ae(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Te=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).print_receipt=function(e){ce.a.websocket.connect().then((function(){return ce.a.printers.find("Generic")})).then((function(t){console.log(t);var a=ce.a.configs.create(t);return ce.a.print(a,re.new_sale(e))})).then((function(){return ce.a.websocket.disconnect()})).then((function(){})).catch((function(e){console.error(e)}))},s.customers=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/sale/customers");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{customers:"Error"!==t?t:[]}));case 7:case"end":return e.stop()}}),e)}))),s.handleSale=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.finish_btn_disabled){e.next=3;break}return e.abrupt("return");case 3:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info",finish_btn_disabled:!0})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),e.next=9,s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:n}));case 9:if(0===s.state.formData.length){e.next=13;break}s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:Object(g.a)(Object(g.a)({},s.state._content),{},{products_sold:s.state.formData,date:Date.now(),user:b.user.username})})),e.next=15;break;case 13:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"No Products To Sell",messageState:"warning"})),e.abrupt("return");case 15:return c=new ae,e.next=18,c.post("/user/sale/new_sale",s.state._content);case 18:!0===(r=e.sent).status?(s.state.print&&s.print_receipt(s.state._content),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"success",finish_btn_disabled:!1})),setTimeout((function(){window.location.reload()}),700)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"error"}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.over_qty_error){e.next=4;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"error",message:"Quantity Exceeds Available"})),e.abrupt("return");case 4:if(s.state.active_drug){e.next=7;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"error",message:"No Selling Unit"})),e.abrupt("return");case 7:s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.batch=s.state.batch?s.state.batch:[],s.state.formData.find((function(e){return e.product_name===n.product_name}))?s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Exists",messageState:"warning"})):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Added",messageState:"success",formData:[].concat(Object(Q.a)(s.state.formData),[n]),active_drug:null}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleDrugNameKeyUp=function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=9;break}return e.next=3,q.data("/user/sale/products/".concat(t.target.value));case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=[];case 6:e.t0=e.t1,e.next=10;break;case 9:e.t0=[];case 10:(n=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{products:"Error"===n?[]:n}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.handleChangeDrugName=function(e,t){if(t){if(!s.IsJsonString(t.product_units))return void s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This Product has no Selling Units, Edit It to make a sale",messageState:"warning"}));s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_drug:t}),(function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_selling_unit:JSON.parse(s.state.active_drug.product_units)[0].selling_unit,active_selling_price:JSON.parse(s.state.active_drug.product_units)[0][s.state.active_sale_type]}),(function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_product_re_order:(s.state.active_selling_unit===JSON.parse(s.state.active_drug.product_units)[0].selling_unit?parseInt(s.state.active_drug.product_re_order):parseInt(s.state.active_drug.product_re_order)/parseInt(JSON.parse(s.state.active_drug.product_units).find((function(t){return t.selling_unit===e.target.value})).qty))||0,active_product_qty:s.state.active_selling_unit===JSON.parse(s.state.active_drug.product_units)[0].selling_unit?parseInt(s.state.active_drug.product_qty):parseInt(s.state.active_drug.product_qty)/parseInt(JSON.parse(s.state.active_drug.product_units).find((function(t){return t.selling_unit===e.target.value})).qty)}))}))}))}},s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:""}))},s.state={open:!1,message:"Please Wait...",messageState:"",print:!0,_content:{},active_product_qty:0,active_product_re_order:0,over_qty_error:!1,active_sale_type:"retail",active_selling_unit:"",active_selling_price:"",products:[],customers:[],formData:[],total:0,discount:0,finish_btn_disabled:!1},s.customers(),s}return Object(l.a)(a,[{key:"getDate",value:function(){return new Date(Date.now()).getDate()+" / "+(new Date(Date.now()).getMonth()+1)+" / "+new Date(Date.now()).getFullYear()}},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"getTotals",value:function(){var e=0;return 0!==this.state.formData.length&&this.state.formData.forEach((function(t){e+=parseInt(t.product_price)*parseInt(t.qty)})),e}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Ae,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"sale"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Sale List"}),Object(C.jsxs)(_.a,{"aria-describedby":this.id,variant:"contained",color:"primary",onClick:function(){window.location.reload()},style:{fontSize:"17.5px",marginRight:"15px"},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-redo"})}),"Cancel"]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Unit Price(Shs)"}),Object(C.jsx)("td",{children:"Total(Shs)"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.formData.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Added"})}):this.state.formData.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:t.product_name}),Object(C.jsx)("td",{children:t.qty}),Object(C.jsx)("td",{children:t.product_price}),Object(C.jsx)("td",{children:parseInt(t.product_price)*parseInt(t.qty)}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){var t=e.state.formData;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{formData:t}))},children:"Remove"})})]},a)}))}),Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:this.getTotals()})]})})]})})]}),Object(C.jsxs)("div",{className:"projects",children:[Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsxs)("div",{className:"card-header ",children:[Object(C.jsx)("div",{children:Object(C.jsxs)(V.a,{variant:"outlined",style:{width:"85%",marginInline:"20px"},children:[Object(C.jsx)(Y.a,{id:"sale_type",children:"Sale"}),Object(C.jsxs)(K.a,{inputProps:{name:"sale_type"},label:"Sale",id:"select_sale_type",value:this.state.active_sale_type,onChange:function(t,a){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_sale_type:t.target.value,active_drug:null}))},children:[Object(C.jsx)(y.a,{value:"retail",children:"Retail"}),Object(C.jsx)(y.a,{value:"wholesale",children:"Wholesale"})]})]})}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-plus-circle"})}),"Add"]})})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Product Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(se.a,{id:"combo-box-demo",options:this.state.products,getOptionLabel:function(e){return"".concat(e.product_generic_name," ").concat(e.product_description_name)},onChange:this.handleChangeDrugName,onKeyUp:this.handleDrugNameKeyUp,style:{width:"85%",margin:"20px"},renderInput:function(e){return Object(C.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"Search Product",name:"product_name",variant:"outlined"}))}}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,type:"number",name:"qty_available",variant:"outlined",label:"Available",value:this.state.active_product_qty,style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,helperText:this.state.active_drug&&this.state.active_product_re_order>=this.state.active_product_qty?"Purchase Needed For This Drug":"",error:this.state.active_drug&&this.state.active_product_re_order>=this.state.active_product_qty||"",type:"number",name:"qty_re_order",variant:"outlined",label:"Re-order Quantity",value:this.state.active_product_re_order,style:{width:"85%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inpts_on_right",children:[Object(C.jsxs)(V.a,{variant:"outlined",label:"selling_unit",disabled:!this.state.active_drug,style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:"Selling Unit"}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:"Selling Unit",id:"select_selling_unit",value:this.state.active_selling_unit,onChange:function(){var t=Object(v.a)(m.a.mark((function t(a,s){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_price:JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value}))[e.state.active_sale_type]}));case 2:e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_unit:a.target.value}),(function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_product_re_order:(e.state.active_selling_unit===JSON.parse(e.state.active_drug.product_units)[0].selling_unit?parseInt(e.state.active_drug.product_re_order):parseInt(e.state.active_drug.product_re_order)/parseInt(JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value})).qty))||0,active_product_qty:e.state.active_selling_unit===JSON.parse(e.state.active_drug.product_units)[0].selling_unit?parseInt(e.state.active_drug.product_qty):parseInt(e.state.active_drug.product_qty)/parseInt(JSON.parse(e.state.active_drug.product_units).find((function(e){return e.selling_unit===a.target.value})).qty)}))}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:this.state.active_drug?JSON.parse(this.state.active_drug.product_units).map((function(e,t){return Object(C.jsx)(y.a,{value:e.selling_unit,children:e.selling_unit},t)})):Object(C.jsx)(y.a,{value:"",children:"No Selling Units"})})]}),Object(C.jsx)(A.a,{disabled:!this.state.active_drug,error:this.state.over_qty_error,type:"number",name:"qty",variant:"outlined",label:"Quantity",helperText:this.state.over_qty_error?"Quantity Exceeds Available":"",defaultValue:0,onChange:function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(parseInt(a.target.value)>e.state.active_product_qty)){t.next=5;break}return t.next=3,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{over_qty_error:!0}));case 3:t.next=7;break;case 5:return t.next=7,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{over_qty_error:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),style:{width:"85%",margin:"20px"}}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_id",defaultValue:this.state.active_drug?this.state.active_drug.product_id:""}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_price",defaultValue:this.state.active_selling_price})]})]})]})})})]}),Object(C.jsxs)("form",{className:"card",style:{marginTop:"20px"},onSubmit:this.handleSale,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"Payment"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(Z.a,{style:{display:"inline"},children:Object(C.jsx)($.a,{control:Object(C.jsx)(ee.a,{defaultChecked:!0,name:"print_receipt",onChange:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{print:!e.state.print}),(function(){console.log(e.state.print)}))}}),label:"Print Receipt"})}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary",type:"submit",style:{marginRight:10},disabled:this.state.finish_btn_disabled,children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-print"})}),"Finish Sale"]})]})]}),Object(C.jsx)(Ie,{t:this.getTotals(),sale_type:this.state.active_sale_type,customers:this.state.customers}),Object(C.jsx)("input",{type:"text",hidden:!0,value:this.state.active_sale_type,name:"sale_type",onChange:function(){}})]})]})]})})]})]})}}]),a}(s.Component);function Ie(e){var t=e.t,a=e.sale_type,n=e.customers,c=Object(s.useState)(0),r=Object(U.a)(c,2),i=r[0],l=r[1];return Object(C.jsxs)("div",{className:"_finish_purchase_ctr",children:[Object(C.jsx)(A.a,{name:"total_amount",variant:"outlined",label:"Total",value:t,style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"discount",variant:"outlined",label:"Discount",type:"number",onChange:function(e){l(parseInt(e.target.value)||0)},style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"pay_amount",variant:"outlined",label:"Amount to Be Paid",value:t-i,style:{width:"75%",margin:"20px"}}),Object(C.jsxs)(V.a,{variant:"outlined",label:"customer",style:"retail"===a?{display:"none"}:{width:"75%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"customer",children:"Customer"}),Object(C.jsx)(K.a,{inputProps:{name:"customer"},label:"customer",id:"select_customer",defaultValue:"",children:0===n.length?"No Customer Added":n.map((function(e,t){return Object(C.jsx)(y.a,{value:"".concat(e.customer_surname," ").concat(e.customer_lastname),children:"".concat(e.customer_surname," ").concat(e.customer_lastname)},t)}))})]})]})}function Fe(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Me=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleOpenActions=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:e.currentTarget}))},s.handleOpenActionsDrugs=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:e.currentTarget}))},s.handleCloseActions=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:null}))},s.handleCloseActionsDrugs=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:null}))},s.handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.handleDelete=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_del:!0,messageState:"info"})),e.next=3,q.data("/user/all/delete/".concat(s.state.product_id));case 3:!0===(t=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:t.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:t.data,messageState:"error"}));case 5:case"end":return e.stop()}}),e)}))),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_del:!1,message:"Please Wait...",messageState:"info"}))},s.state={AnchorEl:null,AnchorElDrugs:null,products:[],loading:!0,open:!1,open_del:!1,message:"Please Wait...",messageState:""},s.products(),s}return Object(l.a)(a,[{key:"products",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/products");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{loading:!1,products:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Fe,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsx)(A.a,{className:"text_field_all_products",name:"drug_name",variant:"outlined",label:"Product Name",style:{width:"15%"},onKeyUp:function(){var t=Object(v.a)(m.a.mark((function t(a){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.value){t.next=9;break}return t.next=3,q.data("/user/sale/products/".concat(a.target.value));case 3:if(t.t1=t.sent,t.t1){t.next=6;break}t.t1=[];case 6:t.t0=t.t1,t.next=10;break;case 9:t.t0=[];case 10:(s=t.t0)&&e.setState(Object(g.a)(Object(g.a)({},e.state),{},{loader:!1,products:"Error"===s?[]:s}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product Generic Name"}),Object(C.jsx)("td",{children:"Product Description"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.products.length?this.state.loading?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:Object(C.jsx)(T.a,{size:25})})}):Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Exists"})}):this.state.products.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.product_generic_name}),Object(C.jsx)("td",{children:t.product_description_name}),Object(C.jsx)("td",{children:t.product_qty}),Object(C.jsx)("td",{children:Object(C.jsx)(O.b,{to:"/edit-product?product-id=".concat(t.product_id),children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",children:"Edit"})})}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",style:{color:"red"},onClick:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open:!0,product_id:t.product_id}))},children:"Delete"})})]},a)}))})]})})]})})})})]}),this.state.product_id?Object(C.jsxs)(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Want to Delete Product?"}),Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{children:"This will delete all Batches. Press OK and Continue. This process is Irreversible"})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(C.jsx)(_.a,{onClick:this.handleDelete,color:"primary",children:"OK"})]})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component);function qe(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var We=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handlePurchase=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),e.next=7,s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:n}));case 7:return 0!==s.state.formData.length&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{_content:Object(g.a)(Object(g.a)({},s.state._content),{},{products_purchased:s.state.formData,date:Date.now(),user:b.user.username})})),c=new ae,e.next=11,c.post("/user/sale/new_purchase",s.state._content);case 11:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:r.data,messageState:"error"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),c=s.state.formData.find((function(e){return e.product_name===n.product_name})),n.batch_no&&n.expiry_date&&n.qty&&n.cost_price){e.next=9;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{empty_error:!0,open:!0,messageState:"error",message:"Some Fields are missing"})),e.abrupt("return");case 9:c?s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Exists",messageState:"warning"})):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"Product Added",messageState:"success",formData:[].concat(Object(Q.a)(s.state.formData),[n])}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleDrugNameKeyUp=function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value){e.next=9;break}return e.next=3,q.data("/user/sale/products/".concat(t.target.value));case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1=[];case 6:e.t0=e.t1,e.next=10;break;case 9:e.t0=[];case 10:(n=e.t0)&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{products:"Error"===n?[]:n}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.handleChangeDrugName=function(e,t){if(t){if(!s.IsJsonString(t.product_units))return void s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This Product has no Selling Units, Edit It to make a sale",messageState:"warning"}));s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_drug:t}),(function(){var e=JSON.parse(s.state.active_drug.product_units);s.setState(Object(g.a)(Object(g.a)({},s.state),{},{active_selling_unit:e[e.length-1].selling_unit,active_retail_price:e[e.length-1].retail,active_wholesale_price:e[e.length-1].wholesale}))}))}},s.closePopUp=function(e,t){"clickaway"!==t&&(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:""})),s.state.empty_error&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{empty_error:!1})))},s.state={open:!1,message:"Please Wait...",messageState:"",_content:{},active_selling_unit:"",active_wholesale_price:"",empty_error:!1,products:[],suppliers:[],formData:[],total:0,discount:0},s.suppliers(),s}return Object(l.a)(a,[{key:"suppliers",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/suppliers");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{suppliers:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"getTotals",value:function(){var e=0;return 0!==this.state.formData.length&&this.state.formData.forEach((function(t){e+=parseInt(t.cost_price)*parseInt(t.qty)})),e}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(qe,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"purchase"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsxs)("div",{className:"recent-grid-left",children:[Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Purchase List"}),Object(C.jsxs)(_.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:function(){window.location.reload()},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-redo"})}),"Cancel"]})]}),Object(C.jsx)("div",{className:"card-body tbl_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Name"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Batch No."}),Object(C.jsx)("td",{children:"Expiry Date"}),Object(C.jsx)("td",{children:"Cost Price(Shs)"})]})}),Object(C.jsx)("tbody",{children:0===this.state.formData.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Product Added"})}):this.state.formData.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:t.product_name}),Object(C.jsx)("td",{children:t.qty}),Object(C.jsx)("td",{children:t.batch_no}),Object(C.jsx)("td",{children:t.expiry_date}),Object(C.jsx)("td",{children:parseInt(t.cost_price)*parseInt(t.qty)}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){var t=e.state.formData;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{formData:t}))},children:"Remove"})})]},a)}))}),Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:this.getTotals()})]})})]})})]}),Object(C.jsxs)("div",{className:"projects",children:[Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"New Purchase"}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-plus-circle"})}),"Add"]})})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("h4",{children:"Product Details"}),Object(C.jsxs)("div",{className:"inputs_ctr",children:[Object(C.jsxs)("div",{className:"inpts_on_left",children:[Object(C.jsx)(se.a,{id:"combo-box-demo",options:this.state.products,getOptionLabel:function(e){return"".concat(e.product_generic_name," ").concat(e.product_description_name)},onChange:this.handleChangeDrugName,onKeyUp:this.handleDrugNameKeyUp,style:{width:"85%",margin:"20px"},renderInput:function(e){return Object(C.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"Search Product",name:"product_name",variant:"outlined"}))}}),Object(C.jsx)(A.a,{error:this.state.empty_error,name:"batch_no",variant:"outlined",label:"Batch Number",style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{error:this.state.empty_error,type:"date",name:"expiry_date",variant:"outlined",helperText:"Expiry Date",style:{width:"85%",margin:"20px"}}),Object(C.jsxs)(V.a,{variant:"outlined",label:"supplier",style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"supplier",children:"Supplier"}),Object(C.jsx)(K.a,{inputProps:{name:"supplier"},label:"supplier",id:"select_supplier",defaultValue:"",children:0===this.state.suppliers.length?"No Supplier Added":this.state.suppliers.map((function(e,t){return Object(C.jsx)(y.a,{value:e.supplier_id,children:e.supplier_surname},t)}))})]})]}),Object(C.jsxs)("div",{className:"inpts_on_right",children:[Object(C.jsxs)(V.a,{variant:"outlined",label:"selling_unit",disabled:!this.state.active_drug,style:{width:"85%",margin:"20px"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:"Purchasing Unit"}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:"Purchasing Unit",id:"select_selling_unit",value:this.state.active_selling_unit,onChange:function(t,a){var s=JSON.parse(e.state.active_drug.product_units);e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_retail_price:s.find((function(e){return e.selling_unit===t.target.value})).retail,active_wholesale_price:s.find((function(e){return e.selling_unit===t.target.value})).wholesale})),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{active_selling_unit:t.target.value}))},children:this.state.active_drug?JSON.parse(this.state.active_drug.product_units).map((function(e,t){return Object(C.jsx)(y.a,{value:e.selling_unit,children:e.selling_unit},t)})):Object(C.jsx)(y.a,{value:"",children:"No Selling Units"})})]}),Object(C.jsx)(A.a,{error:this.state.empty_error,type:"number",name:"qty",variant:"outlined",label:"Quantity",defaultValue:0,style:{width:"85%",margin:"20px"}}),Object(C.jsx)(A.a,{error:this.state.empty_error,name:"cost_price",variant:"outlined",type:"number",label:"Unit Cost Price(Ushs)",style:{width:"85%",margin:"20px"}}),Object(C.jsx)("input",{hidden:!0,type:"text",name:"product_id",defaultValue:this.state.active_drug?this.state.active_drug.product_id:""})]})]})]})})})]}),Object(C.jsxs)("form",{className:"card",style:{marginTop:"20px"},onSubmit:this.handlePurchase,children:[Object(C.jsxs)("div",{className:"card-header card-header-payments",children:[Object(C.jsx)("h3",{className:"class_payment_header",children:"Payment"}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(_.a,{type:"submit",variant:"contained",color:"primary",children:["Finish Purchase",Object(C.jsx)("span",{style:{fontSize:"15px",marginLeft:"10px"},children:Object(C.jsx)("i",{className:"las la-angle-double-right"})})]})})]}),Object(C.jsx)(Re,{t:this.getTotals()})]})]})]})})]})]})}}]),a}(s.Component);function Re(e){var t=e.t,a=Object(s.useState)(0),n=Object(U.a)(a,2),c=n[0];n[1];return Object(C.jsxs)("div",{className:"_finish_purchase_ctr",children:[Object(C.jsx)(A.a,{name:"total_amount",variant:"outlined",label:"Total",value:t,style:{width:"75%",margin:"20px"}}),Object(C.jsx)(A.a,{name:"pay_amount",variant:"outlined",label:"Amount to Be Paid",value:t-c,style:{width:"75%",margin:"20px"}})]})}function ze(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Je=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={open:!1,message:"Please Wait...",messageState:"",product:{}},s.product(),s}return Object(l.a)(a,[{key:"product",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(new URLSearchParams(window.location.search).get("product-id")),e.next=3,q.data("/user/all/product/".concat(t));case 3:a=e.sent,s=Object(U.a)(a,1),(n=s[0])&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{product:"Error"===n?{}:n}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(ze,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("h3",{children:"Product Details"})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginInline:10},children:"Print"})})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"inputCtr",children:[Object(C.jsx)("div",{className:"inputs_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Product Name :"}),this.state.product.product_name]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Quantity in Stock :"}),this.state.product.quantity]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Unit Price :"}),"UGX","",this.state.product.unit_price]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Cost Price :"}),"UGX"," ","",this.state.product.cost_price]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Date Added :"}),new Date(this.state.product.date_added).getDate()+"-"+(new Date(this.state.product.date_added).getMonth()+1)+"-"+new Date(this.state.product.date_added).getFullYear()]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Time :"}),new Date(this.state.product.date_added).getHours()+":"+new Date(this.state.product.date_added).getMinutes()+(new Date(this.state.product.date_added).getHours()<12?"AM":"PM")]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Expiry Date :"}),this.state.product.expiry_date]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Description :"}),this.state.product.product_description]})]})]})}),Object(C.jsx)("h5",{children:"Supplier"}),Object(C.jsx)("div",{className:"inputs_ctr",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Surname :"}),this.state.product.supplier_surname]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Lastname :"}),this.state.product.supplier_lastname]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Date Added :"}),new Date(this.state.product.date_registered).getDate()+"-"+(new Date(this.state.product.date_registered).getMonth()+1)+"-"+new Date(this.state.product.date_registered).getFullYear()]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Time :"}),new Date(this.state.product.date_registered).getHours()+":"+new Date(this.state.product.date_registered).getMinutes()+(new Date(this.state.product.date_registered).getHours()<12?"AM":"PM")]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Contact :"}),this.state.product.supplier_contact]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Location :"}),this.state.product.supplier_location]})]}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Address :"}),this.state.product.supplier_address]})})]})})]})})})]})})})})]})]})}}]),a}(s.Component);function Le(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Be=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_dialog:!1}))},s.handleUnit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),n.unit_name){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"This field is missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 8:return c=new ae,e.next=11,c.post("/user/admin/new_unit",n);case 11:!0===(r=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:r.data,messageState:"error"}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleSubmit=function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,c,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,messageState:"info"})),a=new FormData(t.target),n={},a.forEach((function(e,t){n[t]=e})),0!==s.state.units.length){e.next=8;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"No Selling Units Registered",messageState:"error"})),e.abrupt("return");case 8:if(n.generic_name&&n.re_order_qty){e.next=11;break}return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!0,message:"These fields are missing",messageState:"error",empty_name_error:!0})),e.abrupt("return");case 11:return c=parseInt(new URLSearchParams(window.location.search).get("product-id")),n.units=s.state.units,r=new ae,e.next=16,r.post("/user/sale/edit_product/".concat(c),n);case 16:!0===(i=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:i.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:i.data,messageState:"error"}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1,message:"Please Wait...",messageState:"info",empty_name_error:!1}))},s.state={open:!1,open_dialog:!1,message:"Please Wait...",messageState:"",suppliers:[],units:[],new_unit_error:!1,empty_name_error:!1,selling_units:[],product:{},re_order:0},s.units(),s}return Object(l.a)(a,[{key:"units",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/units");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{selling_units:"Error"===t?[]:t}),(function(){a.product()}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"IsJsonString",value:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}},{key:"product",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n,c,r,i,l,d=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(new URLSearchParams(window.location.search).get("product-id")),e.next=3,q.data("/user/all/product/".concat(t));case 3:if((a=e.sent)&&"Error"!==a){for(s=a[0],console.log(s),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{product:s})),n=this.IsJsonString(s.product_units)?JSON.parse(s.product_units):[],c=0===n.length?0:(parseInt(s.product_re_order)||0)/parseInt(n[n.length-1].qty)||0,r=[],i=0;i<n.length;i++)(l=n[i]).qty&&l.selling_unit&&(0===i||(l.qty=parseInt(n[i].qty)/parseInt(r[i-1].qty)),r.push(l));this.setState(Object(g.a)(Object(g.a)({},this.state),{},{units:r,re_order:c}),(function(){console.log(d.state)}))}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Le,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("form",{className:"card",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"",style:{borderBottom:"1px solid #f0f0f0",padding:"1rem"},children:Object(C.jsxs)("div",{className:"form-header-ctr",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_dialog:!0}))},children:"Add Unit"})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_.a,{type:"submit","aria-describedby":this.id,variant:"contained",color:"primary",style:{marginLeft:10},children:"Finish & Save"})})]})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"inputCtr",children:Object(C.jsxs)("div",{className:"inputs_ctr_np",children:[Object(C.jsxs)("div",{className:"inputs_left_np",children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"generic_name",variant:"outlined",label:"Generic Name",value:this.state.product.product_generic_name?this.state.product.product_generic_name:"",onChange:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{product:Object(g.a)(Object(g.a)({},e.state.product),{},{product_generic_name:t.target.value})}))},style:{width:"75%",margin:"20px"}}),Object(C.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between",width:"75%",margin:"20px"},children:[Object(C.jsx)(A.a,{error:this.state.empty_name_error,value:this.state.re_order,type:"number",name:"re_order_qty",variant:"outlined",label:"Re-order Qty",style:{flex:1,marginRight:"5px"},onChange:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{re_order:t.target.value}))}}),Object(C.jsx)(A.a,{value:this.state.units.length>0&&this.state.units[this.state.units.length-1].selling_unit?this.state.units[this.state.units.length-1].selling_unit:"",name:"re_order_unit",variant:"outlined",label:"Unit",style:{flex:1,marginLeft:"5px"}})]}),Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"description",variant:"outlined",label:"Medicine Description",value:this.state.product.product_description_name?this.state.product.product_description_name:" ",onChange:function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{product:Object(g.a)(Object(g.a)({},e.state.product),{},{product_description_name:t.target.value})}))},style:{width:"75%",margin:"20px"}})]}),Object(C.jsxs)("div",{className:"inputs_right_np",children:[Object(C.jsx)("h4",{style:{margin:"20px"},children:"Selling Units"}),Object(C.jsx)("div",{className:"tbl_ctr_np",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Quantity"}),Object(C.jsx)("td",{children:"Retail"}),Object(C.jsx)("td",{children:"Wholesale"})]})}),Object(C.jsx)("tbody",{children:0===this.state.units.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Selected Units"})}):this.state.units.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsxs)(V.a,{error:e.state.new_unit_error,variant:"standard",label:"supplier",style:{width:"95%"},children:[Object(C.jsx)(Y.a,{id:"selling_unit",children:0===a?"Smallest Unit":"Unit ".concat(a+1)}),Object(C.jsx)(K.a,{inputProps:{name:"selling_unit"},label:0===a?"Smallest Unit":"Unit ".concat(a+1),id:"select_selling_unit",value:e.state.units[a].selling_unit,onChange:function(t){var s=e.state.units;s[a].selling_unit=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},children:0===e.state.selling_units.length?"No Unit Added":e.state.selling_units.map((function(e,t){return Object(C.jsx)(y.a,{value:e.unit_name,children:e.unit_name},t)}))})]})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{multiline:!0,variant:"standard",value:0===a?"1":e.state.units[a].qty,label:0===a?"Quantity":"Quantity In Unit ".concat(a),onChange:function(t){var s=e.state.units;s[a].qty=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Retail",error:e.state.new_unit_error,value:e.state.units[a].retail,onChange:function(t){var s=e.state.units;s[a].retail=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(A.a,{variant:"standard",label:"Wholesale",error:e.state.new_unit_error,value:e.state.units[a].wholesale,onChange:function(t){var s=e.state.units;s[a].wholesale=t.target.value,e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:s}))},style:{width:"95%"}})}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{color:"primary",variant:"outlined",onClick:function(){var t=e.state.units;t.splice(a,1),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:t}))},children:"Remove"})})]},a)}))})]})}),Object(C.jsx)("div",{className:"",style:{display:"flex",justifyContent:"flex-end",width:"95%",margin:"10px auto"},children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){if(0===e.state.units.length)e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{qty:1}])}));else if(1===e.state.units.length){var t=e.state.units;t[0].selling_unit&&t[0].qty&&t[0].retail&&t[0].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are missing",messageState:"error"}))}else{var a=e.state.units;a[a.length-1].selling_unit&&a[a.length-1].qty&&a[a.length-1].retail&&a[a.length-1].wholesale?e.setState(Object(g.a)(Object(g.a)({},e.state),{},{units:[].concat(Object(Q.a)(e.state.units),[{}]),new_unit_error:!1})):e.setState(Object(g.a)(Object(g.a)({},e.state),{},{new_unit_error:!0,open:!0,message:"Some Fields are Missing",messageState:"error"}))}},children:"New Unit"})})]})]})})})})]})})})})]}),Object(C.jsxs)(S.a,{open:this.state.open_dialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Add Selling Unit"}),Object(C.jsxs)("form",{onSubmit:this.handleUnit,autoComplete:"off",children:[Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{children:Object(C.jsx)(A.a,{error:this.state.empty_name_error,name:"unit_name",variant:"standard",label:"Unit Name",style:{width:"85%",margin:"20px"}})})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(C.jsx)(_.a,{type:"submit",color:"primary",children:"Save"})]})]})]})]})}}]),a}(s.Component);function Ge(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var Qe=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handlePurchaseClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_purchase:!1}))},s.handleSaleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_sale:!1}))},s.handleOpenActions=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:e.currentTarget}))},s.handleOpenActionsDrugs=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:e.currentTarget}))},s.handleCloseActions=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:null}))},s.handleCloseActionsDrugs=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:null,print_sale:!0}))},s.state={AnchorEl:null,AnchorElDrugs:null,open:!1,open_purchase:!1,open_sale:!1,message:"Please Wait...",messageState:"",income:0,today_income:0,expenses:0,today_expense:0,sales:[],purchases:[],print_sale:!1},s.income(),s.expenses(),s}return Object(l.a)(a,[{key:"income",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/sales");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,n=[],"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{income:0,sales:[]})):t.forEach((function(e){new Date(parseInt(e.sales_date)).getDate()===new Date(Date.now()).getDate()&&(s+=e.amount_paid,n.push(e)),new Date(parseInt(e.sales_date)).getMonth()===new Date(Date.now()).getMonth()&&(a+=e.amount_paid)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{today_income:s,income:a,sales:n}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"expenses",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/purchases");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,n=[],"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{expenses:0,purchases:[]})):t.forEach((function(e){new Date(parseInt(e.purchase_date)).getDate()===new Date(Date.now()).getDate()&&(s+=e.purchase_amount,n.push(e)),new Date(parseInt(e.purchase_date)).getMonth()===new Date(Date.now()).getMonth()&&(a+=e.purchase_amount)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{today_expense:s,expenses:a,purchases:n}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNameSpaces",value:function(e,t){var a,s=e.split(" ")[0];if(s.length===t&&(a=s+" "),s.length>t&&(a=s.substring(0,t)+" "),s.length<t){a=s;for(var n=t-s.length,c=0;c<n;c++)a+=" "}return a}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)(Ge,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"finance"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsxs)("main",{children:[Object(C.jsxs)("div",{className:"cards",children:[Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("h4",{children:["UGX ",B.format(this.state.today_income)]}),Object(C.jsxs)("span",{children:["Sales ",Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Today"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("h4",{children:["UGX ",B.format(this.state.today_expense)]}),Object(C.jsxs)("span",{children:["Purchases ",Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"Today"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users"})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("h4",{children:["UGX ",B.format(this.state.expenses)]}),Object(C.jsxs)("span",{children:["Purchases ",Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"This Month"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]}),Object(C.jsxs)("div",{className:"card-single",children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("h4",{children:["UGX ",B.format(this.state.income)]}),Object(C.jsxs)("span",{children:["Sales ",Object(C.jsx)("br",{}),Object(C.jsx)("span",{style:{fontSize:"13px"},children:"This Month"})]})]}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("span",{className:"las la-users",children:" "})})]})]}),Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Sales Today"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"drug-actions","aria-haspopup":"true",onClick:this.handleOpenActionsDrugs,children:["Menu",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]}),Object(C.jsx)(f.a,{id:"drug-actions",anchorEl:this.state.AnchorElDrugs,keepMounted:!0,open:Boolean(this.state.AnchorElDrugs),onClose:this.handleCloseActionsDrugs,disableScrollLock:!0,children:Object(C.jsx)(O.b,{to:"/all-sales",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActionsDrugs,children:"See Monthly"})})})]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:"Paid"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.sales.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Sale Made Today"})}):this.state.sales.map((function(t,a){var s="",n=JSON.parse(t.products_sold);return n.forEach((function(t){n.length>1?n.indexOf(t)===n.length-1?s+="".concat(e.getNameSpaces(t.product_name,10)):s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.sales_amount}),Object(C.jsx)("td",{children:t.amount_paid}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_sale:!0,dialog_data:t}))},children:"Details"})})]},a)}))})]})})]})}),Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Purchases Today"}),Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)(_.a,{variant:"contained",color:"primary","aria-controls":"reception-actions","aria-haspopup":"true",onClick:this.handleOpenActions,children:["Menu",Object(C.jsx)("span",{style:{fontSize:"17.5px",marginLeft:"10px"},children:Object(C.jsx)("span",{className:"las la-angle-down"})})]}),Object(C.jsx)(f.a,{id:"reception-actions",anchorEl:this.state.AnchorEl,keepMounted:!0,open:Boolean(this.state.AnchorEl),onClose:this.handleCloseActions,disableScrollLock:!0,children:Object(C.jsx)(O.b,{to:"/all-purchases",children:Object(C.jsx)(y.a,{onClick:this.handleCloseActions,children:"See Monthly"})})})]})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:"Paid"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.purchases.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Purchase Made Today"})}):this.state.purchases.map((function(t,a){var s="",n=JSON.parse(t.products_purchased);return n.forEach((function(t){n.length>1?n.indexOf(t)===n.length-1?s+="".concat(e.getNameSpaces(t.product_name,10)):s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.purchase_t_amount}),Object(C.jsx)("td",{children:t.purchase_amount}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open_purchase:!0,dialog_purchase_data:t}))},children:"Details"})})]},a)}))})]})})]})})]})]})]}),this.state.dialog_data?Object(C.jsxs)(S.a,{open:this.state.open_sale,onClose:this.handleSaleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Sale Details"}),Object(C.jsx)(N.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Amount"}),Object(C.jsx)("td",{children:"Sale Type"})]})}),Object(C.jsx)("tbody",{children:JSON.parse(this.state.dialog_data.products_sold).map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_name}),Object(C.jsx)("td",{children:e.qty}),Object(C.jsx)("td",{children:e.selling_unit}),Object(C.jsx)("td",{children:e.product_price}),Object(C.jsx)("td",{children:e.sale_type})]},t)}))})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Total Amount: UGX ".concat(this.state.dialog_data.sales_amount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Discount: UGX  ".concat(this.state.dialog_data.sales_discount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Amount Paid: UGX ".concat(this.state.dialog_data.amount_paid)})}),"Made By: ".concat(this.state.dialog_data.sale_made_by)]})})]})}),Object(C.jsx)(k.a,{children:Object(C.jsx)(_.a,{onClick:this.handleSaleClose,color:"primary",children:"Cancel"})})]}):Object(C.jsx)(C.Fragment,{}),this.state.dialog_purchase_data?Object(C.jsxs)(S.a,{open:this.state.open_purchase,onClose:this.handlePurchaseClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Purchase Details"}),Object(C.jsx)(N.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Amount"})]})}),Object(C.jsx)("tbody",{children:JSON.parse(this.state.dialog_purchase_data.products_purchased).map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_name}),Object(C.jsx)("td",{children:e.qty}),Object(C.jsx)("td",{children:e.selling_unit}),Object(C.jsx)("td",{children:e.cost_price})]},t)})}))})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Total Amount: UGX ".concat(this.state.dialog_purchase_data.purchase_t_amount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Discount: UGX ".concat(this.state.dialog_purchase_data.purchase_discount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Amount Paid: UGX ".concat(this.state.dialog_purchase_data.purchase_amount)})}),Object(C.jsx)("tr",{children:"Made By: ".concat(this.state.dialog_purchase_data.purchase_made_by)})]})})]})}),Object(C.jsx)(k.a,{children:Object(C.jsx)(_.a,{onClick:this.handlePurchaseClose,color:"primary",children:"Cancel"})})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component),Xe=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={AnchorEl:null,AnchorElDrugs:null,daily:{date:"...",daily_purchases:0,daily_expenses:0,daily_products:0,daily_income:0,daily_sales:0},monthly:{month:"...",monthly_products:0,monthly_purchases:0,monthly_expenses:0,monthly_income:0,monthly_sales:0},annually:{year:"...",annual_products:0,annual_expenses:0,annual_purchases:0,annual_income:0,annual_sales:0}},s.products(),s.purchases(),s.sales(),s}return Object(l.a)(a,[{key:"products",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/products");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,n=0,"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_products:0}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_products:0}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{annual_products:0})})):t.forEach((function(e){new Date(parseInt(e.product_date)).getDate()===new Date(Date.now()).getDate()&&a++,new Date(parseInt(e.product_date)).getMonth()===new Date(Date.now()).getMonth()&&s++,new Date(parseInt(e.product_date)).getFullYear()===new Date(Date.now()).getFullYear()&&n++})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_products:a,date:new Date(Date.now()).getDate()+"/"+(new Date(Date.now()).getMonth()+1)+"/"+new Date(Date.now()).getFullYear()}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_products:s}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{year:new Date(Date.now()).getFullYear(),annual_products:n})})),0===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"January"})})):1===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"February"})})):2===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"March"})})):3===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"April"})})):4===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"May"})})):5===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"June"})})):6===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"July"})})):7===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"August"})})):8===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"September"})})):9===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"October"})})):10===new Date(Date.now()).getMonth()?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"November"})})):11===new Date(Date.now()).getMonth()&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{month:"December"})}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"purchases",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n,c,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/purchases");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,n=0,c=0,r=0,i=0,"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_purchases:0,daily_expenses:0}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_expenses:0,monthly_purchases:0}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{annual_expenses:0,annual_purchases:0})})):t.forEach((function(e){new Date(parseInt(e.purchase_date)).getDate()===new Date(Date.now()).getDate()&&(a++,s+=e.purchase_amount),new Date(Date.now()).getMonth()===new Date(parseInt(e.purchase_date)).getMonth()&&(n++,c+=e.purchase_amount),new Date(Date.now()).getFullYear()===new Date(parseInt(e.purchase_date)).getFullYear()&&(r++,i+=e.purchase_amount)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_purchases:a,daily_expenses:s}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_expenses:c,monthly_purchases:n}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{annual_expenses:i,annual_purchases:r})}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sales",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,s,n,c,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/sales");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,a=0,s=0,n=0,c=0,r=0,i=0,"Error"===t?this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_income:0,daily_sales:0}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_income:0,monthly_sales:0}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{annual_income:0,annual_sales:0})})):t.forEach((function(e){new Date(parseInt(e.sales_date)).getDate()===new Date(Date.now()).getDate()&&(a+=e.amount_paid,s++),new Date(Date.now()).getMonth()===new Date(parseInt(e.sales_date)).getMonth()&&(n+=e.amount_paid,c++),new Date(Date.now()).getFullYear()===new Date(parseInt(e.sales_date)).getFullYear()&&(r+=e.amount_paid,i++)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{daily:Object(g.a)(Object(g.a)({},this.state.daily),{},{daily_sales:s,daily_income:a}),monthly:Object(g.a)(Object(g.a)({},this.state.monthly),{},{monthly_sales:c,monthly_income:n}),annually:Object(g.a)(Object(g.a)({},this.state.annually),{},{annual_sales:i,annual_income:r})}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"reports"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsxs)("main",{children:[Object(C.jsxs)("div",{className:"recent-grid",children:[Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsx)("h3",{children:"Today"})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder",color:"red"},children:"Date:"}),"  ".concat(this.state.daily.date)]})}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Purchases:"}),"  ".concat(this.state.daily.daily_purchases)]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Sales:"})," ".concat(this.state.daily.daily_sales)]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Expenses:"}),"   UGX ".concat(B.format(this.state.daily.daily_expenses))]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Income:"}),"   UGX ".concat(B.format(this.state.daily.daily_income))]})]}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Products Registered:"}),"  ".concat(this.state.daily.daily_products)]})})]})})})]})}),Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsx)("h3",{children:"This Month"})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder",color:"red"},children:"Month:"}),"  ".concat(this.state.monthly.month)]})}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Purchases:"})," ".concat(this.state.monthly.monthly_purchases)]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Sales:"})," ".concat(this.state.monthly.monthly_sales)]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Expenses:"}),"  UGX ".concat(B.format(this.state.monthly.monthly_expenses))]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Income:"}),"  UGX ".concat(B.format(this.state.monthly.monthly_income))]})]}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Products Registered:"}),"  ".concat(this.state.monthly.monthly_products)]})})]})})})]})})]}),Object(C.jsx)("div",{className:"recent-grid",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsx)("h3",{children:"This Year"})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder",color:"red"},children:"Year:"}),"  ".concat(this.state.annually.year)]})}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Purchases:"}),"  ".concat(this.state.annually.annual_purchases)]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Sales:"})," ".concat(this.state.annually.annual_sales)]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Expenses:"}),"  UGX ".concat(B.format(this.state.annually.annual_expenses))]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Total Income:"})," UGX ".concat(B.format(this.state.annually.annual_income))]})]}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("span",{style:{fontWeight:"bolder"},children:"Products Registered:"}),"  ".concat(this.state.annually.annual_products)]})})]})})})]})})})]})]})]})}}]),a}(s.Component),He=a(75),Ve=a.n(He),Ye=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"getTotals",value:function(){var e=0;return 0!==this.props.data.length&&this.props.data.forEach((function(t){e+=parseInt(t.amount_paid)})),B.format(e)}},{key:"getPurchaseTotals",value:function(){var e=0;return 0!==this.props.data.length&&this.props.data.forEach((function(t){e+=parseInt(t.purchase_amount)})),B.format(e)}},{key:"getMonth",value:function(){var e=new Date(Date.now()).getMonth();return 0===e?"January":1===e?"February":2===e?"March":3===e?"April":4===e?"May":5===e?"June":6===e?"July":7===e?"August":8===e?"September":9===e?"October":10===e?"November":11===e?"December":void 0}},{key:"getDate",value:function(){return new Date(Date.now()).getDate()+" / "+(new Date(Date.now()).getMonth()+1)+" / "+new Date(Date.now()).getFullYear()}},{key:"getNameSpaces",value:function(e,t){var a,s=e.split(" ")[0];if(s.length===t&&(a=s+" "),s.length>t&&(a=s.substring(0,t)+" "),s.length<t){a=s;for(var n=t-s.length,c=0;c<n;c++)a+=" "}return a}},{key:"render",value:function(){var e=this;return"sales"===this.props.type?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"print-ctr",children:Object(C.jsxs)("div",{className:"print",children:[Object(C.jsxs)("div",{className:"print-pharmacy",children:[Object(C.jsx)("span",{children:" Freedom Health Pharmacy"}),Object(C.jsx)("span",{style:{fontSize:"20px"},children:"Plot 7, Chegere Road Apac."}),Object(C.jsx)("span",{style:{fontSize:"20px"},children:"Tel: 0393 193 423"})]}),Object(C.jsx)("div",{className:"print-title",children:"Sales File"}),Object(C.jsxs)("div",{className:"date",children:["Date: ",this.getDate()]}),Object(C.jsxs)("div",{className:"date",children:["Month: ",this.getMonth()]}),Object(C.jsx)("div",{className:"content",children:Object(C.jsxs)("table",{width:"90%",style:{margin:"auto"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total Amount"}),Object(C.jsx)("td",{children:"Amount Paid"}),Object(C.jsx)("td",{children:"Made By"}),Object(C.jsx)("td",{children:"Sale Date"})]})}),Object(C.jsx)("tbody",{children:0===this.props.data.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Content To Print"})}):this.props.data.map((function(t,a){var s="",n=JSON.parse(t.products_sold);return n.forEach((function(t){n.length>1?n.indexOf(t)===n.length-1?s+="".concat(e.getNameSpaces(t.product_name,10)):s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.sales_amount}),Object(C.jsx)("td",{children:t.amount_paid}),Object(C.jsx)("td",{children:t.sale_made_by}),Object(C.jsx)("td",{children:new Date(parseInt(t.sales_date)).getDate()+" / "+(new Date(parseInt(t.sales_date)).getMonth()+1)+" / "+new Date(parseInt(t.sales_date)).getFullYear()})]},a)}))}),Object(C.jsxs)("thead",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total Sales"}),Object(C.jsx)("td",{children:"".concat(this.props.data.length)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total Income"}),Object(C.jsx)("td",{children:"UGX ".concat(this.getTotals())})]})]})]})})]})})}):"purchases"===this.props.type?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"print-ctr",children:Object(C.jsxs)("div",{className:"print",children:[Object(C.jsxs)("div",{className:"print-pharmacy",children:[Object(C.jsx)("span",{children:" Freedom Health Pharmacy"}),Object(C.jsx)("span",{style:{fontSize:"20px"},children:"Plot 7, Chegere Road Apac."}),Object(C.jsx)("span",{style:{fontSize:"20px"},children:"Tel: 0393 193 423"})]}),Object(C.jsx)("div",{className:"print-title",children:"Purchases File"}),Object(C.jsxs)("div",{className:"date",children:["Date: ",this.getDate()]}),Object(C.jsxs)("div",{className:"date",children:["Month: ",this.getMonth()]}),Object(C.jsx)("div",{className:"content",children:Object(C.jsxs)("table",{width:"90%",style:{margin:"auto"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total Amount"}),Object(C.jsx)("td",{children:"Amount Paid"}),Object(C.jsx)("td",{children:"Made By"}),Object(C.jsx)("td",{children:"Purchase Date"})]})}),Object(C.jsx)("tbody",{children:0===this.props.data.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Content To Print"})}):this.props.data.map((function(t,a){var s="",n=JSON.parse(t.products_purchased);return n.forEach((function(t){n.length>1?s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.purchase_t_amount}),Object(C.jsx)("td",{children:t.purchase_amount}),Object(C.jsx)("td",{children:t.purchase_made_by}),Object(C.jsx)("td",{children:new Date(parseInt(t.purchase_date)).getDate()+" / "+(new Date(parseInt(t.purchase_date)).getMonth()+1)+" / "+new Date(parseInt(t.purchase_date)).getFullYear()})]},a)}))}),Object(C.jsxs)("thead",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total Purchases"}),Object(C.jsx)("td",{children:"".concat(this.props.data.length)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:"Total Amount Spent"}),Object(C.jsx)("td",{children:"UGX ".concat(this.getPurchaseTotals())})]})]})]})})]})})}):void 0}}]),a}(s.Component),Ke=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.state={open:!1,purchases:[]},s.purchases(),s}return Object(l.a)(a,[{key:"purchases",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/purchases");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:"Error"!==(t=e.t0)&&(a=[],t.forEach((function(e){new Date(parseInt(e.purchase_date)).getMonth()===new Date(Date.now()).getMonth()&&a.push(e)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{purchases:a,print:!0})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNameSpaces",value:function(e,t){var a,s=e.split(" ")[0];if(s.length===t&&(a=s+" "),s.length>t&&(a=s.substring(0,t)+" "),s.length<t){a=s;for(var n=t-s.length,c=0;c<n;c++)a+=" "}return a}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"finance"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Monthly Purchases Made"}),Object(C.jsx)(Ve.a,{trigger:function(){return Object(C.jsxs)(_.a,{variant:"contained",color:"primary",style:{marginRight:10},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-file-pdf"})}),"Save PDF"]})},content:function(){return e.componentRef}})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{style:{width:"85%",margin:"auto"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:"Discount"}),Object(C.jsx)("td",{children:"Paid"}),Object(C.jsx)("td",{children:"Details"})]})}),Object(C.jsx)("tbody",{children:0===this.state.purchases.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Purchase Made"})}):this.state.purchases.map((function(t,a){var s="",n=JSON.parse(t.products_purchased);return n.forEach((function(t){n.length>1?n.indexOf(t)===n.length-1?s+="".concat(e.getNameSpaces(t.product_name,10)):s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.purchase_t_amount}),Object(C.jsx)("td",{children:t.purchase_discount}),Object(C.jsx)("td",{children:t.purchase_amount}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(a){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open:!0,dialog_data:t}))},children:"Details"})})]},a)}))})]})})]})})})})]}),Object(C.jsx)("div",{style:{display:"none"},children:this.state.print?Object(C.jsx)(Ye,{ref:function(t){return e.componentRef=t},data:this.state.purchases,type:"purchases"}):Object(C.jsx)(C.Fragment,{})}),this.state.dialog_data?Object(C.jsxs)(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Purchase Details"}),Object(C.jsx)(N.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Amount"})]})}),Object(C.jsx)("tbody",{children:JSON.parse(this.state.dialog_data.products_purchased).map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_name}),Object(C.jsx)("td",{children:e.qty}),Object(C.jsx)("td",{children:e.selling_unit}),Object(C.jsx)("td",{children:e.cost_price})]},t)})}))})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Total Amount: UGX ".concat(this.state.dialog_data.purchase_t_amount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Discount: UGX ".concat(this.state.dialog_data.purchase_discount)})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Amount Paid: ".concat(this.state.dialog_data.purchase_amount)})}),"Made By: ".concat(this.state.dialog_data.purchase_made_by)]})})]})}),Object(C.jsx)(k.a,{children:Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"})})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component),Ze=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.state={open:!1,sales:[]},s.sales(),s}return Object(l.a)(a,[{key:"sales",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/sales");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:"Error"!==(t=e.t0)&&(a=[],t.forEach((function(e){new Date(parseInt(e.sales_date)).getMonth()===new Date(Date.now()).getMonth()&&a.push(e)})),this.setState(Object(g.a)(Object(g.a)({},this.state),{},{sales:a,print:!0})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNameSpaces",value:function(e,t){var a,s=e.split(" ")[0];if(s.length===t&&(a=s+" "),s.length>t&&(a=s.substring(0,t)+" "),s.length<t){a=s;for(var n=t-s.length,c=0;c<n;c++)a+=" "}return a}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"finance"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("h3",{children:"Monthly Sales Made"}),Object(C.jsx)(Ve.a,{trigger:function(){return Object(C.jsxs)(_.a,{variant:"contained",color:"primary",style:{marginRight:10},children:[Object(C.jsx)("span",{style:{fontSize:"17.5px",marginRight:"10px"},children:Object(C.jsx)("i",{className:"las la-file-pdf"})}),"Save PDF"]})},content:function(){return e.componentRef}})]}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{style:{width:"85%",margin:"auto"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Products"}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{children:"Discount"}),Object(C.jsx)("td",{children:"Paid"}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.sales.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Sale Made"})}):this.state.sales.map((function(t,a){var s="",n=JSON.parse(t.products_sold);return n.forEach((function(t){n.length>1?n.indexOf(t)===n.length-1?s+="".concat(e.getNameSpaces(t.product_name,10)):s=s+"".concat(e.getNameSpaces(t.product_name,10))+",":s+="".concat(e.getNameSpaces(t.product_name,10))})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{children:t.sales_amount}),Object(C.jsx)("td",{children:t.sales_discount}),Object(C.jsx)("td",{children:t.amount_paid}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(a){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open:!0,dialog_data:t}))},children:"Details"})})]},a)}))})]})})]})})})})]}),Object(C.jsx)("div",{style:{display:"none"},children:this.state.print?Object(C.jsx)(Ye,{ref:function(t){return e.componentRef=t},data:this.state.sales,type:"sales"}):Object(C.jsx)(C.Fragment,{})}),this.state.dialog_data?Object(C.jsxs)(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Sale Details"}),Object(C.jsx)(N.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product"}),Object(C.jsx)("td",{children:"Qty"}),Object(C.jsx)("td",{children:"Selling Unit"}),Object(C.jsx)("td",{children:"Amount"}),Object(C.jsx)("td",{children:"Sale Type"})]})}),Object(C.jsx)("tbody",{children:JSON.parse(this.state.dialog_data.products_sold).map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"name_cell",children:e.product_name}),Object(C.jsx)("td",{children:e.qty}),Object(C.jsx)("td",{children:e.selling_unit}),Object(C.jsx)("td",{children:e.product_price}),Object(C.jsx)("td",{children:e.sale_type})]},t)})}))})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"Total Amount: UGX ".concat(this.state.dialog_data.sales_amount)})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:["Discount: UGX ",this.state.dialog_data.sales_discount]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:["Amount Paid: UGX ",this.state.dialog_data.amount_paid]})}),"Made By: ".concat(this.state.dialog_data.sale_made_by)]})})]})}),Object(C.jsx)(k.a,{children:Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"})})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component);function $e(e){return Object(C.jsx)(te.a,Object(g.a)({elevation:6,variant:"filled"},e))}var et=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleOpenActions=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:e.currentTarget}))},s.handleOpenActionsDrugs=function(e){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:e.currentTarget}))},s.handleCloseActions=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorEl:null}))},s.handleCloseActionsDrugs=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{AnchorElDrugs:null}))},s.handleClose=function(){s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open:!1}))},s.handleDelete=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_del:!0,messageState:"info"})),e.next=3,q.data("/user/all/delete_batch/".concat(s.state.batch_id));case 3:!0===(t=e.sent).status?(s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:t.data,messageState:"success"})),setTimeout((function(){window.location.reload()}),200)):s.setState(Object(g.a)(Object(g.a)({},s.state),{},{message:t.data,messageState:"error"}));case 5:case"end":return e.stop()}}),e)}))),s.closePopUp=function(e,t){"clickaway"!==t&&s.setState(Object(g.a)(Object(g.a)({},s.state),{},{open_del:!1,message:"Please Wait...",messageState:"info"}))},s.state={AnchorEl:null,AnchorElDrugs:null,batches:[],loading:!0,open:!1,open_del:!1,message:"Please Wait...",messageState:"",batch_id:""},s.batches(),s}return Object(l.a)(a,[{key:"batches",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.data("/user/all/batches");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:(t=e.t0)&&this.setState(Object(g.a)(Object(g.a)({},this.state),{},{loading:!1,batches:"Error"===t?[]:t}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:this.closePopUp,action:Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closePopUp,children:Object(C.jsx)("i",{className:"las la-times"})})}),children:Object(C.jsx)($e,{onClose:this.closePopUp,severity:this.state.messageState,children:this.state.message})}),Object(C.jsx)("input",{type:"checkbox",id:"nav-toggle",defaultChecked:!0}),Object(C.jsx)(fe,{active:"dashboard"}),Object(C.jsxs)("div",{className:"main-content",children:[Object(C.jsx)(ye,{}),Object(C.jsx)("main",{children:Object(C.jsx)("div",{className:"fullwidth-ctr",children:Object(C.jsx)("div",{className:"projects",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:Object(C.jsx)(A.a,{className:"text_field_all_products",name:"drug_name",variant:"outlined",label:"Search Batch",style:{width:"15%"},onKeyUp:function(){var t=Object(v.a)(m.a.mark((function t(a){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.value){t.next=9;break}return t.next=3,q.data("/user/all/search_batch/".concat(a.target.value));case 3:if(t.t1=t.sent,t.t1){t.next=6;break}t.t1=[];case 6:t.t0=t.t1,t.next=15;break;case 9:return t.next=11,q.data("/user/all/products");case 11:if(t.t2=t.sent,t.t2){t.next=14;break}t.t2=[];case 14:t.t0=t.t2;case 15:"Error"!==(s=t.t0)&&e.setState(Object(g.a)(Object(g.a)({},e.state),{},{loader:!1,batches:"Error"===s?[]:s}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("table",{width:"100%",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"Product Generic Name"}),Object(C.jsx)("td",{children:"Product Description"}),Object(C.jsx)("td",{children:"Batch Number"}),Object(C.jsx)("td",{children:"Batch Quantity"}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tbody",{children:0===this.state.batches.length?this.state.loading?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:Object(C.jsx)(T.a,{size:25})})}):Object(C.jsx)("tr",{children:Object(C.jsx)("td",{children:"No Batch Exists"})}):this.state.batches.map((function(t,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.product_generic_name}),Object(C.jsx)("td",{children:t.product_description_name}),Object(C.jsx)("td",{children:t.batch_no}),Object(C.jsx)("td",{children:t.batch_qty}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:Object(C.jsx)(_.a,{variant:"contained",style:{color:"red"},onClick:function(){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{open:!0,batch_id:t.batch_id}))},children:"Delete"})})]},a)}))})]})})]})})})})]}),this.state.batch_id?Object(C.jsxs)(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(w.a,{id:"form-dialog-title",children:"Want to Delete Product Batch?"}),Object(C.jsx)(N.a,{children:Object(C.jsx)(D.a,{children:"This removes a specific batch number. Press OK and Continue. This process is Irreversible"})}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)(_.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(C.jsx)(_.a,{onClick:this.handleDelete,color:"primary",children:"OK"})]})]}):Object(C.jsx)(C.Fragment,{})]})}}]),a}(s.Component),tt=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(O.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(p.c,{children:[Object(C.jsx)(p.a,{path:"/",exact:!0,component:Se}),Object(C.jsx)(p.a,{path:"/new-product",exact:!0,component:Ne}),Object(C.jsx)(p.a,{path:"/new-supplier",exact:!0,component:ke}),Object(C.jsx)(p.a,{path:"/new-customer",exact:!0,component:Pe}),Object(C.jsx)(p.a,{path:"/new-user",exact:!0,component:Ee}),Object(C.jsx)(p.a,{path:"/new-purchase",exact:!0,component:We}),Object(C.jsx)(p.a,{path:"/new-sale",exact:!0,component:Te}),Object(C.jsx)(p.a,{path:"/all-products",exact:!0,component:Me}),Object(C.jsx)(p.a,{path:"/product",exact:!0,component:Je}),Object(C.jsx)(p.a,{path:"/edit-product",exact:!0,component:Be}),Object(C.jsx)(p.a,{path:"/finance",exact:!0,component:Qe}),Object(C.jsx)(p.a,{path:"/reports",exact:!0,component:Xe}),Object(C.jsx)(p.a,{path:"/all-purchases",exact:!0,component:Ke}),Object(C.jsx)(p.a,{path:"/all-sales",exact:!0,component:Ze}),Object(C.jsx)(p.a,{path:"/all-batches",exact:!0,component:et}),Object(C.jsx)(p.a,{path:"*",exact:!0,component:ge})]})})})}}]),a}(s.Component),at=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={user:b},s}return Object(l.a)(a,[{key:"render",value:function(){return"admin"===b.user.user_role?Object(C.jsx)(tt,{}):"dispenser"===b.user.user_role?Object(C.jsx)(ve,{}):"cashier"===b.user.user_role?Object(C.jsx)(_e,{}):Object(C.jsx)(z,{})}}]),a}(s.Component),st=a(205),nt=a(108),ct=Object(nt.a)({typography:{fontFamily:'"Ubuntu", sans-serifs',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),rt=function(){return Object(C.jsx)(st.a,{theme:ct,children:Object(C.jsx)(at,{})})};r.a.render(Object(C.jsx)(rt,{}),document.getElementById("root"))},41:function(e,t,a){},61:function(e,t,a){},81:function(e,t,a){},91:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.523f1b21.chunk.js.map